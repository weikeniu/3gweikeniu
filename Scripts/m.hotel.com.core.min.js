var WXweb = {
    author: "ashbur",
    version: "2.0"
};
WXweb.utils = {
    website: "/",
    fileName: ".html",
    canStorage: function () {
        return !!window.localStorage ? true : false
    },
    setStorage: function (a, b) {
        try {
            if (WXweb.utils.canStorage()) {
                localStorage.removeItem(a);
                localStorage.setItem(a, b)
            }
        } catch (c) {
            c.name == "QUOTA_EXCEEDED_ERR" && WXweb.utils.MsgBox("您开启了秘密浏览或无痕浏览模式，请关闭")
        }
    },
    getStorage: function (b) {
        if (WXweb.utils.canStorage()) {
            var e = localStorage.getItem(b),
            a = e ? JSON.parse(e) : null;
            if (a && a.timeout) {
                var c = new Date,
                d = Date.ParseString(a.timeout);
                if (a.timeby) {
                    if (d - c >= 0) return a
                } else if (d - Date.ParseString(c.format("yyyy-MM-dd")) >= 0) return a;
                localStorage.removeItem(b);
                return null
            }
            return a
        }
    },
    removeStorage: function (a, f) {
        if (WXweb.utils.canStorage()) {
            f && localStorage.removeItem(a);
            var e = localStorage.getItem(a),
            b = e ? JSON.parse(e) : null;
            if (!b || !b.timeout) localStorage.removeItem(a);
            else {
                var c = new Date,
                d = Date.ParseString(b.timeout); (d - c < 0 || d - Date.ParseString(c.format("yyyy-MM-dd")) < 0) && localStorage.removeItem(a)
            }
        }
    },
    cleanStorage: function () {
        WXweb.utils.canStorage() && localStorage.clear()
    },
    setSession: function (a, b) {
        if (window.sessionStorage) try {
            sessionStorage.removeItem(a);
            sessionStorage.setItem(a, b)
        } catch (c) {
            c.name == "QUOTA_EXCEEDED_ERR" && WXweb.utils.MsgBox("您开启了秘密浏览或无痕浏览模式，请关闭")
        }
    },
    getSession: function (b) {
        if (window.sessionStorage) try {
            var a = sessionStorage.getItem(b);
            return a ? JSON.parse(a) : null
        } catch (c) {
            return null
        }
    },
    removeSession: function (a) {
        window.sessionStorage && sessionStorage.removeItem(a)
    },
    cleanSession: function () {
        window.sessionStorage && sessionStorage.clear()
    },
    getUrlParam: function (c) {
        var a = document.location.search.substr(1).split("&");
        for (i = 0; i < a.length; i++) {
            var b = a[i].split("=");
            if ((b[0] + "").toLowerCase() == c.toLowerCase()) return b[1]
        }
        return ""
    },
    getFromUrl: function () {
        if (document.location.search && document.location.search.length > 0) {
            var a = document.location.search.toLowerCase().substr(1).split("from=");
            return a && a.length > 1 ? a[1] : ""
        }
        return ""
    },
    getUserInfo: function () {
        return WXweb.utils.getStorage("USERINFO")
    },
    getLoginLog: function () {
        return WXweb.utils.getStorage("USERLOGINLOG")
    },
    Confirm: function (a) {
        var b = [{
            value: "取消",
            "class": "hotel-cancel",
            event: {
                click: function () {
                    this.Close()
                }
            }
        },
        {
            value: "确定",
            "class": "hotel-confirm",
            event: {
                click: function () {
                    this.Close();
                    a.callback()
                }
            }
        }];
        if (a.Cancel) b[0].value = a.Cancel;
        if (a.Ok) b[1].value = a.Ok;
        var c = new Oui.Alert({
            Buttons: b,
            Title: "提示信息",
            Content: a.message
        });
        c.Open()
    },
    Toast: function (d, c) {
        var b = $('<div class="ui-loader"><h1>' + d + "</h1></div>");
        $("body").append(b);
        var a = function () {
            var a = Oui.Tools.GetCenterPos();
            b.css({
                position: "absolute",
                margin: "0px",
                top: a.top - b.outerHeight() / 2 + "px",
                left: a.left - b.outerWidth() / 2 + "px"
            })
        };
        $(window).bind("scroll", a);
        $(window).bind("resize", a);
        a();
        setTimeout(function () {
            $(".ui-loader").hide();
            $(".loading-ui").remove();
            Oui.Loading.Close();
            typeof c == "function" && c();
            $(window).unbind("scroll", a);
            $(window).unbind("resize", a)
        },
        2e3)
    },
    MsgBox: function (c, b) {
        var a = ".loading-ui";
        $(a) && $(a).remove();
        var d = $('<div class="msgbox-ui"><h1>' + c + "</h1></div>");
        $("body").append(d);
        setTimeout(function () {
            $(".msgbox-ui").remove();
            typeof b == "function" && b()
        },
        2e3)
    },
    Prompt: function (a) {
        var b = [{
            value: "取消",
            "class": "hotel-cancel",
            event: {
                click: function () {
                    this.Close()
                }
            }
        },
        {
            value: "确定",
            "class": "hotel-confirm",
            event: {
                click: function () {
                    this.Close();
                    typeof a.callback == "function" && a.callback()
                }
            }
        }];
        if (a.Cancel) b[0].value = a.Cancel;
        if (a.Ok) b[1].value = a.Ok;
        var c = new Oui.Alert({
            Buttons: b,
            Title: "提示信息",
            Content: a.message
        });
        c.Open()
    },
    Note: function (a) {
        Oui.Loading.Close();
        var b = [{
            value: a.ButtonTitle,
            "class": "hotel-confirm",
            event: {
                click: function () {
                    this.Close();
                    typeof a.callback == "function" && a.callback()
                }
            }
        }],
        c = new Oui.Alert({
            Buttons: b,
            Title: a.Title ? a.Title : "信息提示",
            Content: a.Text
        });
        c.Open()
    },
    Alert: function (a) {
        var b = [{
            value: "我知道了",
            "class": "hotel-confirm",
            event: {
                click: function () {
                    this.Close()
                }
            }
        }],
        c = new Oui.Alert({
            Buttons: b,
            Title: "提示信息",
            Content: a
        });
        c.Open()
    },
    ShowLoad: function (a) {
        Oui.Loading.Open(a)
    },
    OnLoading: function () {
        $("body").append('<div class="loading-ui"><div class="cui-loading"></div></div>')
    },
    EndLoading: function () {
        $(".loading-ui").remove()
    },
    HideLoad: function () {
        Oui.Loading.Close()
    },
    render: function (b, a, c) {
        if (typeof b === "object") {
            a.setTemplate(c.html());
            a.processTemplate(b)
        }
    },
    render2: function (c, b) {
        var a = $("<div>");
        b = b || "";
        a.setTemplate(b);
        a.processTemplate(c);
        return a.html()
    },
    getWeeks: function (a) {
        return a == 1 ? "周一" : a == 2 ? "周二" : a == 3 ? "周三" : a == 4 ? "周四" : a == 5 ? "周五" : a == 6 ? "周六" : "周日"
    },
    isSuportAnimate: function () {
        var a = navigator.userAgent;
        if (a) {
            a = a.toUpperCase();
            return a.indexOf("HW-HUAWEI") > -1 ? false : a.indexOf("IPHONE") > -1 || a.indexOf("MAC") > -1 || a.indexOf("MAC OS") > -1 || a.indexOf("WINDOWS PHONE") > -1
        }
        return false
    },
    isPC: !/(iphone|ios|android|mini|mobile|mobi|Nokia|Symbian|iPod|iPad|Windows\s+Phone|MQQBrowser|wp7|wp8|UCBrowser7|UCWEB|360\s+Aphone\s+Browser|AppleWebKit)/i.test(navigator.userAgent),
    Cookie: function (c, a) {
        var b = {};
        b.Set = function (e, h, d, f, c) {
            var b = [];
            if (!e) return false;
            b.push(e + "=" + escape(h));
            if (Object.prototype.toString.call(d) == "[object Number]") {
                var g = new Date;
                second = parseInt(d * 86400);
                g.setSeconds(second);
                var i = g.toGMTString();
                b.push("expires=" + i)
            }
            f && b.push("path=" + f);
            c && b.push("domain=" + c);
            a.cookie = b.join(";")
        };
        b.Get = function (g) {
            var b;
            if (g) {
                var h = new RegExp("\\b" + g + "=([^;]*)\\b"),
                f = h.exec(a.cookie);
                b = f && unescape(f[1])
            } else {
                var e = a.cookie.split(";"),
                c,
                d;
                b = {};
                for (c = 0, len = e.length; c < len; c++) {
                    d = e[c].split("=");
                    b[d[0]] = unescape(d[2])
                }
            }
            return b
        };
        b.Del = function (e) {
            var c = new Date;
            c.AddHours(-1e3);
            var d = b.Get(e);
            if (d) a.cookie = "name=" + d + ";domain=.hotelhotel.com;expires=" + c.toGMTString() + ";path=/";
            else a.cookie = "name=;domain=.hotelhotel.com;expires=" + c.toGMTString() + ";path=/"
        };
        return b
    } (window, document),
    StringToTime: function (a) {
        a = a || "";
        var c = /^(\d{4})\-?(\d{2})\-?(\d{2})$/i;
        if (a.match(c)) a = a.replace(c, "$2/$3/$1");
        var b = Date.parse(a),
        d = Date.parse((new Date).format("MM/dd/yyyy"));
        b = isNaN(b) || b < d ? new Date : new Date(b);
        return b
    },
    ToDate: function (a) {
        a = a || "";
        var b = /^(\d{4})\-?(\d{2})\-?(\d{2})$/i;
        if (a.match(b)) a = a.replace(b, "$2/$3/$1");
        var c = Date.parse(a);
        return new Date(c)
    },
    Back: function (a, b) {
        if (a) if (b) location.replace(a);
        else location.href = a;
        else history.back()
    },
    setSource: function (a) {
        WXweb.utils.setStorage("SOURCE", JSON.stringify(a))
    },
    getSource: function () {
        return WXweb.utils.getStorage("SOURCE")
    },
    JumpUrl: function (a, b) {
            location.href = a
    },
    redirectTo: function (a) {
        location.href = a
    }
};
WXweb.controllers = {};
WXweb.run = function (a) {
    for (var a = a, f = a.length, b = 0; b < f; b++) {
        var d = a[b],
        g = d.id;
        e_array = d.event.split(",");
        for (var c = 0; c < e_array.length; c++) {
            var e = e_array[c];
            if ($.trim(e).length == 0) continue;
            $(document).ready(function (a) {
                WXweb.controllers[g][e](a)
            })
        }
    }
};
window.UsingNamespace = Function.usingNamespace = function (f) {
    var a = window;
    if (String.IsNullOrEmpty(f)) return a;
    for (var e = a, d = f.split("."), c = 0; c < d.length; c++) {
        var b = d[c];
        if (!a[b]) a[b] = {};
        e = a = a[b]
    }
    return e
};
String.prototype.Trim = function () {
    return this.replace(/(^\s*)|(\s*$)/g, "").replace(/[<>&"]/g,
    function (a) {
        return ({
            "<": "&lt;",
            ">": "&gt;",
            "&": "&amp;",
            '"': "&quot;"
        })[a]
    })
};
String.prototype.len = function () {
    return this.replace(/[^\x00-\xff]/g, "**").length
};
String._typeName = "String";
String.IsNullOrEmpty = function (a) {
    return !(typeof a === "string" && a.length != 0)
};
String.Parse = function (a) {
    return String.tryParse(a, "")
};
String.TryParse = function (a, b) {
    return Object.isNull(a) || !a.toString ? b : a.toString()
};
Date.prototype.AddHours = function (a) {
    return new Date(this.setHours(this.getHours() + a))
};
Date.prototype.AddMinutes = function (a) {
    return new Date(this.setMinutes(this.getMinutes() + a))
};
Date.prototype.AddSeconds = function (a) {
    return new Date(this.setSeconds(this.getSeconds() + a))
};
Date.prototype.format = function (b) {
    var a = this,
    d = {
        "M+": a.getMonth() + 1,
        "d+": a.getDate(),
        "h+": a.getHours(),
        "m+": a.getMinutes(),
        "s+": a.getSeconds(),
        "q+": Math.floor((a.getMonth() + 3) / 3),
        S: a.getMilliseconds()
    };
    if (/(y+)/.test(b)) b = b.replace(RegExp.$1, (a.getFullYear() + "").substr(4 - RegExp.$1.length));
    for (var c in d) if ((new RegExp("(" + c + ")")).test(b)) b = b.replace(RegExp.$1, RegExp.$1.length == 1 ? d[c] : ("00" + d[c]).substr(("" + d[c]).length));
    return b
};
Date.prototype.customer_addDays = function (d, c) {
    var a,
    b = function () {
        var d = a.getFullYear(),
        b = a.getMonth(),
        c = a.getDate();
        if (b === 0) b = 1;
        else b = b + 1;
        if (b < 10) b = "0" + b.toString();
        if (c < 10) c = "0" + c.toString();
        return d + "-" + b + "-" + c
    };
    a = this.setDate(this.getDate() + d);
    a = new Date(a);
    return c ? a : b()
};
Number.toChinese = function () {
    var a = "",
    d = {
        0: "零",
        1: "一",
        2: "二",
        3: "三",
        4: "四",
        5: "五",
        6: "六",
        7: "七",
        8: "八",
        9: "九"
    },
    c = {
        10: "十",
        100: "百",
        1e3: "千"
    };
    function b(i) {
        for (var h = i.toString().split(a), e = function (d) {
            for (var b = [], a = 0, c = d.length; a < c; a++) b.push({
                Unit: d[a],
                BigUnit: "1" + Array(c - a).join("0")
            });
            return b
        } (h), g = a, f, b = 0, j = e.length; b < j; b++) if (f != "0" || e[b].Unit != "0") {
            g +=
            function () {
                var c = h.slice(b).join(a);
                return b != 0 && c.match(/^0+$/i) ? a : b == 0 && e[b].BigUnit == "10" && e[b].Unit == "1" ? a : d[e[b].Unit]
            } () + (e[b].Unit != "0" && typeof c[e[b].BigUnit] != "undefined" ? c[e[b].BigUnit] : a);
            f = e[b].Unit
        }
        return g
    }
    return function (h) {
        h = h || 0;
        var j = h.toString().split(a).reverse().join(a),
        i = /(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?/i,
        d = i.exec(j),
        e,
        f,
        g;
        if (d[1]) e = d[1].split(a).reverse().join(a);
        if (d[2]) f = d[2].split(a).reverse().join(a);
        if (d[3]) g = d[3].split(a).reverse().join(a);
        var c = a;
        if (g && g.match(/[^0]/i)) c = c + b(g) + "亿";
        if (f && f.match(/[^0]/i)) c = c + b(f) + "万";
        if (!e || !c || !e.match(/^0+$/i)) c = c + b(e);
        return c
    }
} ();
JSON.HotelUnPack = function (e) {
    var q = "return o;";
    for (var u = [], f = [], i = e[0], n = i.length, l = e.length, x = -1, A = -1, a = 0, p = 0, d, o; a < n; ++a) {
        f[++A] = i[a];
        if (typeof i[a + 1] == "object") {
            ++a;
            for (d = 1; d < l; ++d) {
                o = e[d];
                o[p] = i[a][o[p]]
            }
        } ++p
    }
    for (var k = 1; k < l; ++k) for (var g = e[k], c = 0; c < f.length; c++) if (typeof g[c] == "object") if (g[c] && g[c].length > 0) {
        for (var t = [], h = [], s = g[c][0], m = s.length, v = g[c].length, w = -1, y = -1, b = 0, z = 0, j; b < m; ++b) {
            h[++y] = s[b]; ++z
        }
        for (b = 0, m = h.length; b < m; ++b) h[b] = 'o["'.concat(h[b].replace('"', "\\x22"), '"]=a[', b, "];");
        var r = Function("o,a", h.join("") + q);
        for (j = 1; j < v; ++j) t[++w] = r({},
        g[c][j]);
        e[k][c] = t
    }
    for (a = 0, n = f.length; a < n; ++a) f[a] = 'o["'.concat(f[a].replace('"', "\\x22"), '"]=a[', a, "];");
    var r = Function("o,a", f.join("") + q);
    for (d = 1; d < l; ++d) u[++x] = r({},
    e[d]);
    return u
}; (function () {
    if (!window.localStorage || !window.sessionStorage) window.location.href = "";
    else {
        var a = navigator.userAgent;
        if (a && (a.indexOf("iphone") > -1 || a.indexOf("ipod") > -1 || a.indexOf("ios") > -1 || a.indexOf("mac os") > -1)) {
            var b = document.documentElement;
            if (location.pathname.indexOf("hotel/hotelmap.html") > -1) {
                var c = '<meta name="full-screen" content="yes" />';
                $("head").append(c)
            } else b.fullscreenEnabled && docElem.exitFullscreen()
        }
    }
})();(function (a) {
})(window); !
function (a, b) {
    var c = ".__return__";
    a(function () {
        a(c).live("click",
        function () {
            var c = "data-backurl",
            d = a(this);
            if (d.attr(c)) b.Back(d.attr(c));
            else b.Back()
        })
    })
} (jQuery, WXweb.utils); (function (d, c) {
    var b = "placeholder";
    if (!WXweb.utils.InputClear) {
        var a = b in document.createElement("input");
        WXweb.utils.InputClear = function (e, d, f) {
            d || (d = "");
            var g = typeof e == "string" ? c(e) : e;
            g.each(function () {
                var g = c('<a class="clear-input ' + d + '" href="javascript:;"><span></span></a>'),
                e = c(this);
                if (!a) var i = e.attr(b),
                h = c('<span class="placeholder-title' + (d ? " placeholder-" + d : "") + '">' + i + "</span>");
                g.hide();
                e.bind({
                    focus: function () {
                        var a = e.val().Trim();
                        a != "" && g.show()
                    },
                    input: function () {
                        var b = e.val().Trim();
                        if (e.val().Trim() == "") g.hide();
                        else g.show();
                        if (!a) if (b == "") h.show();
                        else h.hide()
                    },
                    blur: function () {
                        var b = e.val().Trim();
                        if (!a) if (b == "") h.show();
                        else h.hide();
                        setTimeout(function () {
                            g.hide()
                        },
                        300)
                    }
                });
                g.bind("click",
                function () {
                    e.val("");
                    e.keyup();
                    g.hide();
                    e.focus();
                    e.trigger("input");
                    typeof f == "function" && f.call(this)
                });
                e.after(g);
                if (!a) {
                    e.after(h);
                    h.bind("click",
                    function () {
                        e.focus()
                    })
                }
                e.blur()
            })
        }
    }
})(window, jQuery);
Date.ParseString = function (c) {
    var d = /(\d{4})-(\d{1,2})-(\d{1,2})(?:\s+(\d{1,2}):(\d{1,2}):(\d{1,2}))?/i,
    b = d.exec(c),
    a = 0,
    e = null;
    if (b && b.length) if (b.length > 5 && b[6]) a = Date.parse(c.replace(d, "$2/$3/$1 $4:$5:$6"));
    else a = Date.parse(c.replace(d, "$2/$3/$1"));
    else a = Date.parse(c);
    if (!isNaN(a)) e = new Date(a);
    return e
}; !
function (f, g, a) {
    var b = a.getUrlParam("AllianceID"),
    c = a.getUrlParam("SID"),
    e = a.getUrlParam("OUID");
    if (b && c) {
        var d = {
            data: {
                AllianceID: b,
                SID: c,
                OUID: e
            },
            timeout: (new Date).customer_addDays(7),
            timeby: 7
        };
        a.setStorage("UNION", JSON.stringify(d))
    }
    a.union = {
        GetUnion: function () {
            var b = a.getStorage("UNION");
            return b && b.data ? b.data : null
        }
    }
} (window, jQuery, WXweb.utils);

void function (a) {
    var b = "WAP_SERVERDATE";
    if (!(a.utils.Cookie.Get(b))) document.cookie = 'WAP_SERVERDATE=' + ((new Date).format("yyyy-MM-dd"));
    a.ServerDate = a.utils.Cookie.Get(b);
} (WXweb); !
function (a) {
    a(function () {
        var b = a("#preloading");
        b.length && b.hide();
        a("body").bind("selectstart",
        function (a) {
            a.preventDefault();
            return false
        })
    })
} (jQuery); !
function (e, g, c) {
    var d = "function",
    b = "信息提示",
    a = "好",
    f = function (d) {
        switch (d.code) {
            case d.TIMEOUT:
                c.Note({
                    ButtonTitle:
                a,
                    Title: b,
                    Text: "地理位置服务连接超时"
                });
                break;
            case d.PERMISSION_DENIED:
                c.Note({
                    ButtonTitle:
                a,
                    Title: b,
                    Text: "您可能曾拒绝获取我的位置，请在浏览器设置中重新开启！"
                });
                break;
            case d.POSITION_UNAVAILABLE:
                c.Note({
                    ButtonTitle:
                a,
                    Title: b,
                    Text: "浏览器无法获取您的位置信息"
                });
                break;
            default:
                c.Note({
                    ButtonTitle:
                a,
                    Title: b,
                    Text: "定位失败，请确保您的设备已打开定位功能或正常连接到网络"
                })
        }
    };
    c.getGeoLocation = function (h, g, b) {
        var a = false;
        b = b || {
            enableHighAccuracy: a,
            timeout: 5e3,
            maximumAge: 1.5e5
        };
        if (!e.navigator.onLine) {
            c.MsgBox("非常抱歉，请确保您的设备已正常连接到网络");
            return a
        }
        if (!e.navigator.geolocation || !e.navigator.geolocation.getCurrentPosition) {
            c.MsgBox("非常抱歉，您的的设备不支持定位或是未开启定位");
            return a
        }
        e.navigator.geolocation.getCurrentPosition(h,
        function (b) {
            if (typeof g == d && g.call(this, b) === a) return a;
            f.call(this, b)
        },
        b)
    };
    c.getGeocoder = function (k, j, g, f) {
        if (e.AMap) {
            var h = new AMap.LngLat(k, j),
            i = new AMap.Geocoder;
            i.regeocode(h,
            function (e) {
                if (e.status == "E0") g(e);
                else {
                    typeof f == d && f();
                    c.Note({
                        ButtonTitle: a,
                        Title: b,
                        Text: "未能定位到您所在的城市，请确保您的设备已打开定位功能或正常连接到网络"
                    })
                }
            })
        } else {
            typeof f == d && f();
            c.Note({
                ButtonTitle: a,
                Title: b,
                Text: "您当前的地理坐标未能定位到您所在的城市，请重试"
            })
        }
    }
} (window, jQuery, WXweb.utils); !
function (m, i, b) {
    var O = "div:first",
    N = "select-open",
    t = "option-over",
    q = "option-current",
    c = "data-id",
    s = "data-value",
    k = "value",
    f = "selected",
    J = '[value="',
    E = "z-index",
    x = "click",
    D = "100%",
    C = "50%",
    r = " ",
    B = "Class",
    o = "resize",
    g = "px",
    u = "auto",
    A = "none",
    n = "0px",
    w = "absolute",
    d = "div",
    I = "hidden",
    p = true,
    h = "function",
    H = "html",
    j = "body",
    e = false,
    U = b(m),
    L = function (a) {
        return function (b) {
            return a.call(b)
        }
    } (Object.prototype.toString),
    db = function (a) {
        return typeof a
    },
    z = function (a) {
        return L(a) === "[object Array]"
    },
    v = function (a) {
        return L(a) === "[object Object]"
    },
    y = function (a) {
        return L(a) === "[object Function]"
    },
    G = function (a) {
        return L(a) === "[object String]"
    },
    ab = function (a) {
        return L(a) === "[object Number]"
    },
    Y = function (a) {
        a = a || {};
        var c = {};
        for (var b in a) c[b] = a[b];
        return c
    },
    l = function (g, e, d, f) {
        var c = b("<" + g + ">"),
        a;
        if (v(e)) for (a in e) c.attr(a, e[a]);
        if (v(d)) for (a in d) c.css(a, d[a]);
        f && c.html(f);
        return c
    },
    R = function (a, c) {
        if (!z(a)) return e;
        var b = a.indexOf ||
        function (c) {
            for (var a = 0, b = this.length; a < b; a++) if (this[a] == c) return a;
            return -1
        };
        return b.call(a, c)
    },
    V = function (d) {
        var b = 0,
        c = 0,
        a = d;
        do {
            b += a.offsetLeft;
            c += a.offsetTop
        }
        while ((a = a.offsetParent) && "offsetTop" in a);
        return {
            left: b,
            top: c
        }
    },
    Z = function (a) {
        var c = Math.max(i.body.scrollTop, i.documentElement.scrollTop),
        b = Math.max(i.body.scrollLeft, i.documentElement.scrollLeft);
        return {
            top: c + a.clientY,
            left: b + a.clientX
        }
    },
    Q = function () {
        var a = arguments.callee;
        if (!a.body || !a.body.length) a.body = b(j);
        var d = Math.max(a.body.innerWidth(), i.documentElement.scrollWidth, i.documentElement.clientWidth, i.documentElement.offsetWidth, i.body.scrollWidth, i.body.clientWidth),
        c = Math.max(a.body.innerHeight(), i.documentElement.scrollHeight, i.documentElement.clientHeight, i.documentElement.offsetHeight, i.body.scrollHeight, i.body.clientHeight);
        return {
            width: d,
            height: c
        }
    },
    S = function () {
        var b = i.getElementsByTagName(H)[0],
        a = i.getElementsByTagName(j)[0],
        f = Math.max(b.scrollTop, a.scrollTop),
        e = Math.max(b.scrollLeft, a.scrollLeft),
        d = Math.min(b.clientWidth, a.clientWidth),
        c = Math.min(b.clientHeight, a.clientHeight);
        return {
            top: f + c / 2,
            left: e + d / 2
        }
    },
    X = function () {
        var b = Math.max(i.documentElement.scrollLeft, i.body.scrollLeft),
        c = Math.max(i.documentElement.scrollTop, i.body.scrollTop),
        a = Math.min(i.documentElement.clientHeight, i.body.clientHeight);
        return {
            top: c,
            left: b,
            height: a
        }
    },
    P = function (c) {
        var a = [];
        for (var b in c) a.push(b);
        return a
    },
    F = function () {
        var b = parseInt(Math.random() * 1e3);
        return function () {
            b++;
            return a.PRDFIX + "cid" + parseInt(Math.random() * 1e6) + "" + b
        }
    } (),
    K = function () {
        var a = parseInt(Math.random() * 1e3) + 6e3;
        return function () {
            a++;
            return a
        }
    } (),
    M = function (a, b) {
        return function () {
            a.call(b)
        }
    },
    W = function (a, b) {
        if (typeof a != h) return;
        if (W[b] != a.toString()) {
            a();
            W[b] = a.toString()
        }
    },
    cb = function (b, d, c) {
        var a;
        typeof b == h && (a = b.apply(d || null, c || []));
        return a
    },
    T = function () {
        var a = /huawei/i;
        return a.test(navigator.userAgent) ? e : p
    },
    a = m.Oui = {};
    a.Tools = {
        C: l,
        isArray: z,
        isObject: v,
        isFunction: y,
        isString: G,
        isNumber: ab,
        AindexOf: R,
        GetPos: V,
        GetMousePos: Z,
        GetPageSize: Q,
        GetCenterPos: S,
        GetKey: P,
        CreateId: F,
        Bind: M,
        GetZIndex: K,
        cloneObject: Y,
        isNotAnimate: T,
        getPageScrollPos: X
    };
    a.LockWindow = function () {
        b(H).css({
            overflow: I
        })
    };
    a.UnLockWindow = function () {
        b(H).css({
            overflow: "visible"
        })
    };
    a.PRDFIX = "cui-";
    a.Mask = function () {
        var e = "Mask-Show",
        c = b("." + a.PRDFIX + "Mask"),
        k = b(m),
        f = b(j);
        if (!c.length) {
            c = l(d, {
                "class": a.PRDFIX + "Mask"
            });
            c.hide()
        }
        c.css({
            position: w,
            left: n,
            top: n,
            display: A,
            width: n,
            height: n,
            "z-index": "88",
            overflow: I
        });
        var p,
        i = function () {
            c.css({
                width: u,
                height: u
            });
            var a = Q(),
            d = a.width,
            b = a.height;
            f.length && c.css({
                width: d + g,
                height: b + g
            })
        },
        h = {};
        h.SetStyle = function (a) {
            if (v(a)) for (var b in a) c.css(b, a[b])
        };
        h.GetStyle = function (a) {
            return c.css(a)
        };
        h.Show = function () {
            f = f.length ? f : b(j);
            i();
            k.bind(o, i);
            f.append(c);
            c.show();
            setTimeout(function () {
                c.addClass(a.PRDFIX + e)
            },
            1)
        };
        h.Hide = function () {
            c.removeClass(a.PRDFIX + e);
            c.hide();
            clearInterval(p);
            k.unbind(o, i)
        };
        return h
    } ();
    a.Alert = function (d) {
        var c = this;
        if (!c instanceof arguments.callee) return new arguments.callee(d);
        c.Buttons;
        c.Title = "";
        c.Content = "";
        c.Class = [a.PRDFIX + "alert"];
        c.isMask = e;
        c._id = F();
        c._Mask = a.Mask;
        c._BoxDom;
        c._ConBoxDom;
        c._TitleDom;
        c._ButtonsBoxDom;
        c._ButtonsDom = {};
        c._ContentDom;
        c._CloseDom;
        c._TranBgDom;
        c._AutoPosHandler;
        c._body = b(j);
        c.WatchHash = new a.WatchHash(c._id, M(c.Close, c));
        c._setOption(d);
        c._init()
    };
    a.Alert.prototype = {
        _setOption: function (a) {
            var c = this;
            if (v(a)) for (var b in a) switch (b) {
                case "Buttons":
                case "Title":
                case "Content":
                case "isMask":
                    c[b] = a[b];
                    break;
                case B:
                    z(a[b]) && (c.Class = c.Class.concat(a[b]));
                    G(a[b]) && c.Class.push(a[b])
            }
        },
        _init: function () {
            this._createDom();
            this._BindEvent()
        },
        _createDom: function () {
            var f = "alert-button",
            c = this;
            c._BoxDom = l(d, {
                id: c._id,
                "class": c.Class.join(r)
            });
            c._BoxDom.css({
                position: "fixed",
                left: C,
                top: C,
                "z-index": "99",
                display: A
            });
            c._TranBgDom = l(d, {
                "class": a.PRDFIX + "alert-tbg"
            });
            c._TranBgDom.css({
                position: w,
                left: n,
                top: n,
                width: D,
                height: D
            });
            c._BoxDom.append(c._TranBgDom);
            c._ConBoxDom = l(d, {
                "class": a.PRDFIX + "alert-conbox"
            });
            c._CloseDom = l("a", {
                "class": a.PRDFIX + "close"
            },
            null, "×");
            c._CloseDom.css({
                position: w,
                "z-index": "100"
            });
            c._BoxDom.append(c._CloseDom);
            if (b.trim(c.Title)) {
                c._TitleDom = l("h3", {
                    "class": a.PRDFIX + "alert-title"
                });
                c._TitleDom.html(c.Title);
                c._ConBoxDom.append(c._TitleDom)
            }
            c._ContentDom = l(d, {
                "class": a.PRDFIX + "alert-content"
            });
            if (G(c.Content)) c._ContentDom.html(c.Content);
            else {
                c._ContentDom.empty();
                c._ContentDom.append(b(c.Content))
            }
            c._ConBoxDom.append(c._ContentDom);
            c._ButtonsBoxDom = l(d, {
                "class": a.PRDFIX + "alert-button-box"
            });
            var e,
            g,
            h = c;
            if (v(c.Buttons)) for (e in c.Buttons) {
                g = c._ButtonsDom[e] = l("input", {
                    type: "button",
                    value: e,
                    "class": a.PRDFIX + f
                });
                c._ButtonsBoxDom.append(g)
            } else if (z(c.Buttons)) for (e = 0, len = c.Buttons.length; e < len; e++) {
                g = c._ButtonsDom[c.Buttons[e].value] = l("input", {
                    type: "button",
                    value: c.Buttons[e].value,
                    "class": [a.PRDFIX + f, c.Buttons[e]["class"]].join(r)
                });
                c._ButtonsBoxDom.append(g)
            }
            c._ConBoxDom.append(c._ButtonsBoxDom);
            c._BoxDom.append(c._ConBoxDom);
            c._body.append(c._BoxDom)
        },
        _Location: function () {
            var a = this,
            c = this._AutoPosHandler = function () {
                var e = a._BoxDom.width(),
                d = a._BoxDom.height(),
                b = -(e / 2),
                c = -(d / 2);
                a._BoxDom.css({
                    top: "49%",
                    "margin-left": b + g,
                    "margin-top": c + g
                })
            };
            c();
            b(m).bind(o, c)
        },
        _UnLocation: function () {
            b(m).unbind(o, this._AutoPosHandler)
        },
        _BindEvent: function () {
            var a = this,
            c,
            d,
            e = a,
            b;
            if (z(a.Buttons)) {
                for (b = 0, len = a.Buttons.length; b < len; b++) if (a.Buttons[b] && a.Buttons[b].value && a._ButtonsDom[a.Buttons[b].value] && a.Buttons[b].event) {
                    c = a.Buttons[b];
                    d = c.event;
                    for (var f in d) a._ButtonsDom[c.value].bind(f,
                    function (a) {
                        return function (b) {
                            y(a) && a.call(e, b)
                        }
                    } (d[f]))
                }
            } else if (v(a.Buttons)) for (b in a.Buttons) {
                c = a._ButtonsDom[b];
                if (c) {
                    c.bind(x,
                    function (a) {
                        return function (b) {
                            y(a) && a.call(e, b)
                        }
                    } (a.Buttons[b]));
                    a._ButtonsBoxDom.append(c)
                }
            }
            a._CloseDom.bind(x,
            function () {
                e.Close()
            })
        },
        Close: function () {
            var a = this;
            a._BoxDom.hide();
            a._BoxDom.remove();
            a._Mask.Hide();
            a._UnLocation();
            a.WatchHash.End()
        },
        Open: function () {
            var a = this;
            a._Mask.Show();
            a._BoxDom.css(E, K());
            a._BoxDom.show();
            a._Location();
            a.WatchHash.Start()
        }
    };
    a.Layer = function (d) {
        var c = this;
        if (!c instanceof arguments.callee) return new arguments.callee(d);
        c.Content = "";
        c.Time;
        c.CallBack;
        c.Class = [a.PRDFIX + "layer"];
        c.Event;
        c._Id = F();
        c._Mask = a.Mask;
        c._BoxDom;
        c._ContentDom;
        c.autolocation;
        c._body = b(j);
        c._setOption(d);
        c._init()
    };
    a.Layer.prototype = {
        _setOption: function (a) {
            var c = this;
            if (v(a)) for (var b in a) switch (b) {
                case "Content":
                case "Time":
                case "CallBack":
                case "Event":
                    c[b] = a[b];
                    break;
                case B:
                    z(a[b]) && (c.Class = c.Class.concat(a[b]));
                    G(a[b]) && c.Class.push(a[b])
            }
        },
        _init: function () {
            this._createDom();
            this._BuildEvent()
        },
        _createDom: function () {
            var c = this;
            c._BoxDom = l(d, {
                "class": c.Class.join(r)
            });
            c._BoxDom.css({
                position: "fixed",
                left: C,
                top: C,
                "z-index": "99999",
                "display:": A
            });
            c._ContentDom = l(d, {
                "class": a.PRDFIX + "layer-content"
            });
            if (G(c.Content)) c._ContentDom.html(c.Content);
            else c._ContentDom.append(b(c.Content));
            c._BoxDom.append(c._ContentDom)
        },
        _BuildEvent: function () {
            var a = this,
            c = a;
            if (v(a.Event)) for (var b in a.Event) a._BoxDom.bind(b,
            function (a) {
                return function (b) {
                    a.call(c, b)
                }
            } (a.Event[b]))
        },
        _Location: function () {
            var c = S(),
            b = this._BoxDom.width(),
            a = this._BoxDom.height();
            this._BoxDom.css({
                "margin-left": -(b / 2) + g,
                "margin-top": -(a / 2) + g
            })
        },
        _UnAutoLocation: function () {
            b(m).unbind(o, this.autolocation);
            b(m).unbind("scroll", this.autolocation)
        },
        _AutoLocation: function () {
            var a = this,
            c = a;
            a.autolocation = function () {
                c._Location()
            };
            b(m).bind(o, a.autolocation);
            b(m).bind("scroll", a.autolocation)
        },
        Close: function () {
            this._BoxDom.hide();
            this._Mask.Hide();
            this._UnAutoLocation()
        },
        Open: function (d) {
            var a = this; !b("#" + a._Id).length && b(j).append(a._BoxDom); !d && a._Mask.Show();
            a._BoxDom.css(E, K());
            a._BoxDom.show();
            a._Location();
            var c = a;
            a.Time && setTimeout(function () {
                c.Close();
                y(c.CallBack) && c.CallBack()
            },
            a.Time * 1e3);
            a._AutoLocation()
        }
    };
    a.ViewPage = function (d) {
        var c = this;
        c.Element;
        c.onBeforeCreate;
        c.onCreate;
        c.onShow;
        c.onHide;
        c.Class = [a.PRDFIX + "view-page"];
        c._id = F();
        c._BoxDom;
        c._ContDom;
        c.Doc;
        c._BodyDom;
        c._AutoLocResoure;
        c.$window = b(m);
        c._callback_Location;
        c._WhichHash = new a.WatchHash(c._id, M(function () {
            this.Close()
        },
        c));
        c._setOption(d);
        c._init()
    };
    a.ViewPage.prototype = {
        _setOption: function (a) {
            var c = this;
            if (v(a)) for (var b in a) switch (b) {
                case "Element":
                case "onBeforeCreate":
                case "onCreate":
                case "onShow":
                case "onHide":
                    c[b] = a[b];
                    break;
                case B:
                    z(a[b]) && (c.Class = c.Class.concat(a[b]));
                    G(a[b]) && c.Class.push(a[b])
            }
        },
        _init: function () {
            var a = this;
            y(a.onBeforeCreate) && a.onBeforeCreate();
            a._ContDom && a._ContDom.remove();
            a._BoxDom && a._BoxDom.remove();
            a._CreateDom();
            a._BuildEvent();
            y(a.onCreate) && a.onCreate()
        },
        _CreateDom: function () {
            var c = this;
            c._BodyDom = b(j);
            c.Element = b(c.Element);
            c._BoxDom = l(d, {
                id: c._id,
                "class": c.Class.join(r)
            });
            c._BoxDom.css({
                position: w,
                left: n,
                top: n,
                width: D,
                display: A
            });
            c._ContDom = l(d, {
                "class": a.PRDFIX + "view-page-content"
            });
            c._BoxDom.append(c._ContDom);
            c._ContDom.append(c.Element);
            c.Doc = c._ContDom;
            c._BodyDom.append(c._BoxDom)
        },
        _Location: function () {
            this._BoxDom.css({
                width: u,
                height: u
            });
            var a = Q();
            this._BoxDom.css({
                width: a.width + g,
                height: a.height + g
            })
        },
        _AutoLocation: function () {
            var a = this;
            a._Location();
            var b = a;
            a._callback_Location = function () {
                b._Location()
            };
            a.$window.bind(o, a._callback_Location)
        },
        _UnAutoLocation: function () {
            this.$window.unbind(o, this._callback_Location)
        },
        _BuildEvent: function () { },
        Open: function () {
            var a = this;
            a._BoxDom.css(E, K());
            a._BoxDom.show();
            y(a.onShow) && a.onShow();
            a._WhichHash.Start();
            a._AutoLocation()
        },
        Close: function () {
            var a = this;
            a._BoxDom.hide();
            y(a.onHide) && a.onHide();
            a._WhichHash.End();
            a._UnAutoLocation()
        },
        CloseNotCallBack: function () {
            this._BoxDom.hide();
            this._WhichHash.End();
            this._UnAutoLocation()
        },
        getRoot: function () {
            return this._ContDom
        }
    };
    a.form = {};
    a.form.Select = function (c) {
        var b = this;
        if (!b instanceof arguments.callee) return new arguments.callee(c);
        b.Select;
        b.Class = [a.PRDFIX + "form-select"];
        b.OnChange = [];
        b.Direction = "bottom";
        b.UseEmptyOption;
        b.Title;
        b.isShowValue;
        b.isNotShowInputTitle;
        b.DefaultValue;
        b.FormatOptionTitle;
        b.isShowBodyfirstChind;
        b.Type = a.form.Select.TYPE.NORMAL;
        b.FloatBoxOffset;
        b.OnShow = function () { };
        b.OnHide = function () { };
        b.EmptyOptionTitle = "无";
        b._Id = F();
        b._OSelect;
        b._OGroups;
        b._OOptions;
        b._SelectInputDom;
        b._SelectFloatBoxDom;
        b._SelectContentDom;
        b._OptGroupDom;
        b._OptionsDoms;
        b._OptionsMap;
        b._OptionsDomMap;
        b._SelectHeader;
        b._TitleDom;
        b._CloseButtonDom;
        b._Mask = a.Mask;
        b._CurrentOptions;
        b._multiple;
        b._desabled;
        b.__WindowReSizeHander;
        b._isfocus = e;
        b._lastkey = [];
        b._hasError = e;
        b._beforePosition = {};
        b.WatchHash = new a.WatchHash(b._Id, M(b._Close, b));
        b._CssSelectOption = "option[value]";
        b._setOption(c);
        b._init()
    };
    a.form.Select.TYPE = {
        NORMAL: 1,
        SELECTDOWN: 2
    };
    a.form.Select.prototype = {
        _setOption: function (a) {
            var c = this;
            if (v(a)) for (var b in a) switch (b) {
                case "Select":
                case "Direction":
                case "UseEmptyOption":
                case "Title":
                case "isShowValue":
                case "isNotShowInputTitle":
                case "DefaultValue":
                case "FormatOptionTitle":
                case "isShowBodyfirstChind":
                case "Type":
                case "FloatBoxOffset":
                case "OnShow":
                case "OnHide":
                case "EmptyOptionTitle":
                    c[b] = a[b];
                    break;
                case "OnChange":
                    typeof a[b] == h && c.OnChange.push(a[b]);
                    break;
                case B:
                    z(a[b]) && (c.Class = c.Class.concat(a[b]));
                    G(a[b]) && c.Class.push(a[b])
            }
        },
        _init: function () {
            var a = this;
            a._SelectInputDom && a._SelectInputDom.remove();
            a._SelectFloatBoxDom && a._SelectFloatBoxDom.remove();
            a._SelectContentDom && a._SelectContentDom.remove();
            a._OptGroupDom = [];
            a._OptionsDoms = [];
            a._OptionsMap = {};
            a._OptionsDomMap = {};
            a._CloseButtonDom;
            a._CurrentOptions = {};
            a._multiple = e;
            a._desabled = e;
            if (a.UseEmptyOption) a._CssSelectOption = "option";
            a._createDom();
            a._afterDispose();
            a._BuildEvent()
        },
        _afterDispose: function () {
            switch (this.Type) {
                case a.form.Select.TYPE.SELECTDOWN:
                    this._SelectHeader.hide()
            }
        },
        _location: function () {
            switch (this.Type) {
                case a.form.Select.TYPE.NORMAL:
                    this._location_normal();
                    break;
                case a.form.Select.TYPE.SELECTDOWN:
                    this._location_select()
            }
        },
        _location_normal: function () { },
        _location_select: function () {
            var d = this,
            a = V(d._SelectInputDom[0]),
            n = d._SelectInputDom.outerWidth(),
            k = d._SelectInputDom.outerHeight(),
            o = d._SelectFloatBoxDom.width(),
            h = d._SelectFloatBoxDom.height(),
            f = 0,
            e = 0,
            m = u,
            l = Math.max(b(j).innerHeight(), i.documentElement.clientHeight);
            if (y(d.FloatBoxOffset)) {
                var c = d.FloatBoxOffset(a);
                if (c) {
                    a.top += c.top ? c.top : 0;
                    a.left += c.left ? c.left : 0;
                    n += c.width ? c.width : 0;
                    k += c.height ? c.height : 0
                }
            }
            if (d.Direction == "top") {
                f = a.left;
                e = a.top - h;
                if (h >= a.top) {
                    m = a.top + g;
                    e = 0
                }
            } else {
                f = a.left;
                e = a.top + k;
                if (l - e <= h) {
                    m = l - e + g;
                    e = a.top + k
                }
            }
            d._SelectFloatBoxDom.css({
                left: f,
                top: e,
                width: n + g
            })
        },
        _OnChange: function (c) {
            var a = this;
            for (var b = 0, d = a.OnChange.length; b < d; b++) typeof a.OnChange[b] == h && a.OnChange[b].call(a, c)
        },
        _AutoLoaction: function () {
            var a = this,
            b = a;
            if (!a._AutoLoactionRun) {
                a.__WindowReSizeHander = function () {
                    b._location()
                };
                U.bind(o, a.__WindowReSizeHander);
                a._AutoLoactionRun = p
            }
        },
        _UnAutoLoaction: function () {
            U.unbind(o, this.__WindowReSizeHander);
            this._AutoLoactionRun = e
        },
        _getOhtml: function (a) {
            a = a || [];
            var d = [],
            c;
            if (v(a)) for (c in a) d.push(b(a[c]).html());
            else if (z(a)) for (var c = 0, e = a.length; c < e; c++) d.push(b(a[c]).html());
            return d.join(",")
        },
        _getCurrentSelected: function (b) {
            var a = [];
            b.each(function () {
                this.selected && a.push(this)
            }); !this._multiple && a.length && (a = [a.pop()]);
            return a
        },
        _getSelectedTitle: function () {
            return select_value
        },
        _createDom: function () {
            var i = "select-option",
            e = this,
            g = e;
            e._OSelect = b(e.Select);
            e._OSelect = b(e._OSelect[0]);
            if (!e._OSelect.length) throw Error("Select框不存在!");
            e._multiple = !!e._OSelect[0].multiple;
            e._desabled = !!e._OSelect[0].disabled;
            e._OGroups = e._OSelect.find("optgroup");
            e._OOptions = e._OSelect.find(e._CssSelectOption);
            if (e.DefaultValue && e._OOptions.filter(J + e.DefaultValue + '"]').length) {
                e._OOptions.removeAttr(f);
                e._OOptions.filter(J + e.DefaultValue + '"]').attr(f, f)
            }
            e._SelectInputDom = l("em", {
                "class": e.Class.join(r),
                tabindex: "1"
            });
            var m = e._getCurrentSelected(e._OOptions),
            p = e._getOhtml(m);
            if (e._OOptions.length) e._SelectInputDom.html(p);
            else e._SelectInputDom.html(e.EmptyOptionTitle);
            e._SelectInputDom.html(p);
            e.isNotShowInputTitle && e._SelectInputDom.hide();
            e._SelectFloatBoxDom = l(d, {
                "class": a.PRDFIX + "select-float-box",
                tabindex: "1"
            });
            for (var o = 0, t = e.Class.length; o < t; o++) e._SelectFloatBoxDom.addClass(e.Class[o] + "-float");
            e._SelectFloatBoxDom.css({
                position: w,
                width: D,
                overflow: I,
                left: n,
                top: n,
                "z-index": "199"
            });
            e._SelectContentDom = l(d, {
                "class": a.PRDFIX + "select-cont-box"
            });
            if (e._OGroups.length) {
                e._OGroups.each(function () {
                    var o = b(this),
                    e = [a.PRDFIX + "select-optgroup-box"];
                    b.trim(this.className).length && e.push(this.className);
                    var j = l(d, {
                        "class": e.join(r)
                    }),
                    n = o.find(g._CssSelectOption);
                    n.each(function () {
                        var n = this,
                        u = [a.PRDFIX + i],
                        t = b(n);
                        b.trim(n.className).length && u.push(n.className);
                        var e = l(d, {
                            "class": u.join(r),
                            tabindex: "2"
                        }),
                        p = t.html();
                        if (typeof g.FormatOptionTitle == h) p = g.FormatOptionTitle(p, n);
                        e.html(p);
                        var v = t.attr(k);
                        e.attr(s, v);
                        var o = F();
                        g._OptionsMap[o] = n;
                        g._OptionsDomMap[o] = e;
                        e.attr("id", o);
                        t.attr(c, o);
                        g._OptionsDoms.push(e);
                        n.selected && b.each(m,
                        function () {
                            var d = this;
                            if (v == b(d).attr(k)) {
                                b(d).attr(f, f);
                                g._CurrentOptions[b(d).attr(c)] = d;
                                e.addClass(a.PRDFIX + q)
                            }
                        });
                        j.append(e)
                    });
                    g._OptGroupDom.push(j)
                });
                e._SelectContentDom.append(g._OptGroupDom)
            } else e._OOptions.each(function () {
                var j = this,
                t = [a.PRDFIX + i],
                p = b(j);
                b.trim(j.className).length && t.push(j.className);
                var e = l(d, {
                    "class": t.join(r),
                    tabindex: "2"
                }),
                o = p.html();
                if (typeof g.FormatOptionTitle == h) o = g.FormatOptionTitle(o, j);
                e.html(o);
                var u = p.attr(k);
                e.attr(s, u);
                var n = F();
                g._OptionsMap[n] = j;
                g._OptionsDomMap[n] = e;
                e.attr("id", n);
                p.attr(c, n);
                j.selected && b.each(m,
                function () {
                    var d = this;
                    if (u == b(d).attr(k) && d.selected) {
                        b(d).attr(f, f);
                        g._CurrentOptions[b(d).attr(c)] = d;
                        e.addClass(a.PRDFIX + q)
                    }
                });
                g._OptionsDoms.push(e);
                g._SelectContentDom.append(e)
            });
            e._SelectHeader = l(d, {
                "class": a.PRDFIX + "select-head"
            });
            e._CloseButtonDom = l(d, {
                "class": a.PRDFIX + "select-close"
            });
            e._CloseButtonDom.html("关闭");
            e._TitleDom = l(d, {
                "class": a.PRDFIX + "select-title"
            });
            e.Title && e._TitleDom.html(e.Title);
            e._SelectHeader.append(e._CloseButtonDom);
            e._SelectHeader.append(e._TitleDom);
            e._SelectFloatBoxDom.append(e._SelectHeader);
            e._SelectFloatBoxDom.append(e._SelectContentDom);
            b(j).append(e._SelectFloatBoxDom);
            e._OSelect.after(e._SelectInputDom);
            e._OSelect.hide();
            e._location()
        },
        _Toggle: function () {
            var a = this;
            if (a._SelectFloatBoxDom.filter(":hidden").length) {
                a._Open();
                a._AutoLoaction()
            } else {
                a._Close();
                a._UnAutoLoaction()
            }
        },
        _BuildEvent: function () {
            var b = this;
            if (b._OOptions.length) switch (b.Type) {
                case a.form.Select.TYPE.NORMAL:
                    b._BuildEvent_normal();
                    break;
                case a.form.Select.TYPE.SELECTDOWN:
                    b._BuildEvent_selectdown()
            }
        },
        _BuildEvent_selectdown: function () {
            var f = this,
            c = f,
            d = p;
            f._SelectInputDom.bind({
                click: function () {
                    c._location();
                    c._Toggle()
                },
                focus: function () {
                    d = e
                },
                blur: function () {
                    d = p;
                    setTimeout(function () {
                        d && c.Close()
                    },
                    200)
                }
            });
            b(f._OptionsDoms).each(function () {
                b(this).bind({
                    mouseover: function () {
                        c._OOptions.removeClass(a.PRDFIX + t);
                        var d = b(this);
                        d.addClass(a.PRDFIX + t)
                    },
                    click: function () {
                        var a = b(this),
                        e = a.attr(s),
                        d = c._OptionsMap[this.id];
                        c._lastkey = P(c._CurrentOptions);
                        c._SetValue(d, a); !c._multiple && c._Toggle();
                        c._isChange(e)
                    },
                    focus: function () {
                        d = e
                    },
                    blur: function () {
                        d = p;
                        setTimeout(function () {
                            d && c.Close()
                        },
                        200)
                    }
                })
            });
            f._CloseButtonDom.bind(x,
            function () {
                c._Close()
            });
            f._OSelect.bind("change",
            function () {
                c._OnChange(c.GetValue().shift())
            })
        },
        _BuildEvent_normal: function () {
            var d = this,
            c = d;
            d._SelectInputDom.bind(x,
            function () {
                c._location();
                c._Toggle()
            });
            b(d._OptionsDoms).each(function () {
                b(this).bind({
                    mouseover: function () {
                        c._OOptions.removeClass(a.PRDFIX + t);
                        var d = b(this);
                        d.addClass(a.PRDFIX + t)
                    },
                    click: function () {
                        var a = b(this),
                        e = a.attr(s),
                        d = c._OptionsMap[this.id];
                        c._lastkey = P(c._CurrentOptions);
                        c._SetValue(d, a); !c._multiple && c._Toggle();
                        c._isChange(e)
                    }
                })
            });
            d._CloseButtonDom.bind(x,
            function () {
                c._Close()
            });
            d._OSelect.bind("change",
            function () {
                c._OnChange(c.GetValue().shift())
            })
        },
        _isChange: function (d) {
            var b = this,
            c = P(b._CurrentOptions),
            a;
            for (a = 0, len = c.length; a < len; a++) if (R(b._lastkey, c[a]) < 0) {
                b._OnChange(d);
                return
            }
            for (a = 0, len = b._lastkey.length; a < len; a++) if (R(c, b._lastkey[a]) < 0) {
                b._OnChange(d);
                return
            }
        },
        _SetValue: function (e, g) {
            var d = this;
            if (d._hasError) return;
            g = g || d._OptionsDomMap[b(e).attr(c)];
            var h = d;
            if (!d._multiple) {
                d._CurrentOptions = {};
                d._OOptions.removeAttr(f);
                b.each(d._OptionsDoms,
                function () {
                    b(this).removeClass(a.PRDFIX + q)
                });
                g.addClass(a.PRDFIX + q);
                d._CurrentOptions[b(e).attr(c)] = e;
                b(e).attr(f, f)
            } else {
                var i = b(e).attr(c);
                if (g && g.attr(s)) if (d._CurrentOptions[i]) {
                    g.removeClass(a.PRDFIX + q);
                    d._UnSetValue(e)
                } else {
                    g.addClass(a.PRDFIX + q);
                    d._CurrentOptions[b(e).attr(c)] = e;
                    b(e).attr(f, f)
                } else b.each(d._OOptions,
                function () {
                    h._UnSetValue(this)
                })
            }
            d._SelectInputDom.html(d.isShowValue ? d.GetValue().join("，") : d.GetTitle().join("，"))
        },
        _Open: function () {
            var b = this;
            typeof b.OnShow == h && b.OnShow();
            switch (b.Type) {
                case a.form.Select.TYPE.NORMAL:
                    b._Open_normal();
                    break;
                case a.form.Select.TYPE.SELECTDOWN:
                    b._Open_select()
            }
            b._SelectInputDom.addClass(a.PRDFIX + N)
        },
        _Open_normal: function () {
            var a = this,
            d = a;
            a._beforePosition.top = Math.max(i.documentElement.scrollTop, i.body.scrollTop);
            a._beforePosition.left = Math.max(i.documentElement.scrollLeft, i.body.scrollLeft);
            if (!a.isShowBodyfirstChind) {
                if (!a._masterPage) a._masterPage = b(j).find(O);
                a._masterPage.hide()
            }
            m.scrollTo(0, 1);
            var c = b(m);
            a._SelectFloatBoxDom.css({
                top: c.height() + g
            });
            a._SelectFloatBoxDom.show();
            a._SelectFloatBoxDom[T() ? "animate" : "css"]({
                top: n
            });
            a._Mask.SetStyle({
                background: "#fff"
            });
            a._SelectFloatBoxDom.css(E, K());
            a.WatchHash.Start()
        },
        _Open_select: function () {
            this._SelectFloatBoxDom.show()
        },
        _Close: function () {
            var b = this;
            typeof b.OnHide == h && b.OnHide();
            switch (b.Type) {
                case a.form.Select.TYPE.NORMAL:
                    b._Close_normal();
                    break;
                case a.form.Select.TYPE.SELECTDOWN:
                    b._Close_select()
            }
            b._SelectInputDom.removeClass(a.PRDFIX + N)
        },
        _Close_normal: function () {
            var a = this;
            if (!a.isShowBodyfirstChind) {
                if (!a._masterPage) a._masterPage = b(j).find(O);
                a._masterPage.show()
            }
            a._Mask.SetStyle({
                background: ""
            });
            a._SelectFloatBoxDom.hide();
            a._beforePosition.top && setTimeout(M(function () {
                m.scrollTo(this._beforePosition.left, this._beforePosition.top)
            },
            a), 120);
            a.WatchHash.End()
        },
        _Close_select: function () {
            this._SelectFloatBoxDom.hide()
        },
        _UnSetValue: function (a) {
            if (this._hasError) return;
            delete this._CurrentOptions[b(a).attr(c)];
            b(a).removeAttr(f)
        },
        WatchChange: function () {
            var a = this;
            if (a._hasError) return;
            a._OOptions = a._OSelect.find(a._CssSelectOption);
            var d = a,
            f = e;
            a._OOptions.each(function () {
                var a = b(this);
                if (d._OptionsDomMap[a.attr(c)]) {
                    d._OptionsDomMap[a.attr(c)].html(a.html());
                    d._OptionsDomMap[a.attr(c)].attr(s, a.attr(k));
                    this.selected && d._SetValue(this)
                } else f = p
            });
            f && a.ReLoad()
        },
        ReLoad: function () {
            if (this._hasError) return;
            this._init()
        },
        SetValue: function (a) {
            var b = this._OOptions.filter(J + a + '"]'),
            c = this;
            this.DefaultValue = a;
            b.each(function () {
                c._SetValue(this)
            })
        },
        GetValue: function () {
            if (this._hasError) return;
            var d = [],
            a = [],
            e = this;
            this._OOptions.each(function () {
                e._CurrentOptions[b(this).attr(c)] && a.push(this)
            });
            b.each(a,
            function () {
                d.push(b(this).attr(k))
            });
            return d
        },
        GetTitle: function () {
            if (this._hasError) return;
            var d = [],
            a = [],
            e = this;
            this._OOptions.each(function () {
                e._CurrentOptions[b(this).attr(c)] && a.push(this)
            });
            b.each(a,
            function () {
                d.push(b(this).text())
            });
            return d
        },
        Clear: function () {
            var c = this;
            c._OOptions.removeAttr(f);
            c._CurrentOptions = {};
            var d = c._getSelectedTitle(c._OOptions);
            c._SelectInputDom.html(d);
            b.each(c._OptionsDoms,
            function () {
                this.removeClass(a.PRDFIX + q)
            })
        },
        CurrentIndexOf: function (a) {
            for (var c in this._CurrentOptions) if (b(this._CurrentOptions[c]).attr(k) == a) return p;
            return e
        },
        SetTitle: function (a) {
            this._SelectInputDom.html(a)
        },
        TriggerChange: function () {
            this._OnChange(this.GetValue().shift())
        },
        Open: function () {
            this._Open();
            this._AutoLoaction()
        },
        Close: function () {
            this._Close();
            this._UnAutoLoaction()
        },
        addOnChange: function (a) {
            typeof a == h && this.OnChange.push(a)
        }
    };
    a.Mobile = {};
    a.Mobile.DIR_TOP = 1;
    a.Mobile.DIR_RIGHT = 2;
    a.Mobile.DIR_BOTTOM = 3;
    a.Mobile.DIR_LEFT = 4;
    a.Mobile.DIR_CENTER = 5;
    a.Mobile.addEventGesture = function (c, g, f) {
        c = b(c);
        var i = 0,
        j = 0;
        if (c.length) {
            c[0].addEventListener("touchstart",
            function (b) {
                b.preventDefault();
                var a = b.targetTouches[0];
                i = a.clientX;
                j = a.clientY;
                typeof f == h && f()
            },
            e);
            var d = function (d) {
                d.preventDefault();
                var e = d.changedTouches[0],
                b = e.clientX - i,
                c = e.clientY - j,
                f;
                if (Math.abs(b) < 40 && Math.abs(c) < 40) return;
                f = {
                    XDirection: b < 0 ? a.Mobile.DIR_LEFT : a.Mobile.DIR_RIGHT,
                    XOffset: Math.abs(b),
                    YDirection: c < 0 ? a.Mobile.DIR_TOP : a.Mobile.DIR_BOTTOM,
                    YOffset: Math.abs(c)
                };
                y(g) && g.apply(this, [f, d])
            };
            c[0].addEventListener("touchend", d, e);
            c[0].addEventListener("touchcancel", d, e)
        }
    };
    a.WatchHash = function (b, f) {
        var a = "hashchange";
        b = b.replace(/[\s\-]/mg, "");
        if (!this instanceof arguments.callee) return new arguments.callee(b, f);
        var i = new RegExp("\\b" + b + "\\b"),
        j = m.location.hash,
        c = e,
        g = /qq/i.test(navigator.userAgent),
        d = function () {
            if (!m.location.hash.match(i)) {
                c = p;
                m.removeEventListener(a, d);
                typeof f == h && f()
            }
        };
        this.Start = function () {
            j = m.location.hash;
            var f = [];
            m.location.hash.length && f.push(location.hash);
            f.push(b);
            if (!g) {
                m.location.assign(m.location.hash.indexOf("#") == -1 ? "#" + f.join("/") : f.join("/"));
                m.addEventListener(a, d);
                c = e
            }
        };
        this.End = function () {
            if (c) return;
            if (!g) {
                m.removeEventListener(a, d);
                m.history.go(-1)
            }
        }
    }
} (this, document, jQuery);
void 
function (a, c) {
    var d = new a.Layer({
        Content: c('<div class="cui-loading"></div>'),
        Class: "cui-loadingbox"
    });
    a.Loading = d;
    var b = function (f, e) {
        var d = arguments.callee,
        b;
        if (!d[e]) b = new a.Layer({
            Content: c('<div class="cui-loading-text"><div class="cui-loading"></div><div class="cui-loading-title">' + f + "</div></div>"),
            Class: "text-loading"
        });
        else b = d[e];
        return b
    };
    a.TextLoading = b;
    a.AlertLoading = b("正在定位中...", "AlertLoading")
} (Oui, jQuery); (function (n, m, e) {
    var i = "SALESOBJ",
    g = "Session",
    c = -1,
    a = e.getUrlParam("sales"),
    f = e.getUrlParam("sourceid");
    if (!a && !f) {
        var b = document.referrer;
        if (b) {
            b = b.replace("http://", "").replace("https://", "").split("/")[0].toLowerCase();
            if (b.indexOf("baidu") > c) a = "SEO_BAIDU";
            if (b.indexOf("google") > c) a = "SEO_GOOGLE";
            if (b.indexOf("soso.com") > c) a = "SEO_SOSO";
            if (b.indexOf("sogou") > c) a = "SEO_SOGOU";
            if (b.indexOf("m.so.com") > c) a = "SEO_SO";
            if (b.indexOf("so.360") > c) a = "SEO_360SO";
            if (b.indexOf("bing.com") > c) a = "SEO_BING";
            if (b.indexOf("yahoo") > c) a = "SEO_YAHOO";
            if (b.indexOf("youdao") > c) a = "SEO_YOUDAO"
        }
    } (a || f) && e.Cookie.Del(g);
    if (!a && !f) {
        var d = e.Cookie.Get(g);
        if (d) {
            d = d.toLowerCase();
            for (var j = d.split("&"), h = 0, l = j.length; h < l; h++) if (j[h].indexOf("smartlinkcode") > c) {
                d = j[h];
                break
            }
            d = d ? d.replace("smartlinkcode=", "") : null;
            d && m.get(WXweb.utils.website + "/ClientData/GetSourceInfo/" + encodeURI(d),
            function (a) {
                if (a && a.ServerCode == 1 && a.Data) {
                    var b = {
                        timeout: (new Date).customer_addDays(30),
                        timeby: 30,
                        data: {}
                    };
                    b.data.sales = a.Data.Sales;
                    b.data.sourceid = a.Data.SourceId;
                    e.setStorage("SALES", JSON.stringify(b));
                    e.removeStorage(i, true);
                    e.Cookie.Del(g)
                }
            })
        }
    }
    if (a || f) {
        var k = {
            timeout: (new Date).customer_addDays(30),
            timeby: 30,
            data: {}
        };
        if (f && f.length) k.data.sourceid = f;
        if (a && a.length) k.data.sales = a;
        e.setStorage("SALES", JSON.stringify(k));
        e.removeStorage(i, true)
    }
})(window, jQuery, WXweb.utils);