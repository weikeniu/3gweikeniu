window["$"] = window.jquip = (function () { var bU = window, bG = function () { return bU.Sizzle || bU.qwery }, bA = document, a5 = bA.documentElement, by = [], be = [], cf, bx = /Until$/, cj = /,/, bn = /^(?:parents|prevUntil|prevAll)/, ci = /<([\w:]+)/, bT = /[\n\t\r]/g, br = /\s+/, cr = /\d/, bF = /\S/, bQ = /\r\n/g, bi = /^<(\w+)\s*\/?>(?:<\/\1>)?$/, ca = /\r?\n/g, bc = /^(?:select|textarea)/i, bB = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i, a9 = String.prototype.trim, cn, bL = /^\s+/, bp = /\s+$/, b4, b6, b7 = { children: true, contents: true, next: true, prev: true }, bN = Object.prototype.toString, cq = {}, aY = false, a3 = true, bl = { option: [1, "<select multiple='multiple'>", "</select>"], legend: [1, "<fieldset>", "</fieldset>"], thead: [1, "<table>", "</table>"], tr: [2, "<table><tbody>", "</tbody></table>"], td: [3, "<table><tbody><tr>", "</tr></tbody></table>"], col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"], area: [1, "<map>", "</map>"], _default: [0, "", ""] }, bH = /[,\s.#\[>+]/, bC = [], bt = {}, b3 = Array.prototype, ch = Object.prototype, b0 = ch.hasOwnProperty, bP = b3.slice, bh = b3.push, ba = b3.indexOf, ce = b3.forEach, bY = b3.filter, bO = b3.indexOf; if (bF.test("\xA0")) { bL = /^[\s\xA0]+/; bp = /[\s\xA0]+$/ } function bX(b, a) { var d; for (var c = 0, e = ct.length; c < e; c++) { if (ct[c].apply(this, arguments)) { return this } } if (!b) { return this } if (bS(b)) { if (cf) { b() } else { by.push(b) } return this } else { if (bK(b)) { return this["make"](b) } } if (b.nodeType || ck(b)) { return this["make"]([b]) } if (b == "body" && !a && bA.body) { this["context"] = b.context; this[0] = bA.body; this.length = 1; this["selector"] = b; return this } if (b.selector !== undefined) { this["context"] = b.context; this["selector"] = b.selector; return this["make"](b) } b = bZ(b) && b.charAt(0) === "<" ? (d = bi.exec(b)) ? (b = [bA.createElement(d[1])]) && cv(a) ? cp.fn.attr.call(b, a) && b : b : b5(b).childNodes : cd(b, a); return this["make"](b) } var ct = [], cu = {}, bD = 0, a8 = { _id: 0 }, bs = {}, bq; function cp(a, b) { return new bX(a, b) } bq = bX.prototype = cp.prototype = cp.fn = { constructor: cp, selector: "", length: 0, dm: function (d, f, h) { var b = d[0], a, i, e, c, g; if (b) { if (this[0]) { if (!(i = b.nodeType === 3 && b)) { a = b && b.parentNode; i = a && a.nodeType === 11 && a.childNodes.length === this.length ? a : b5(b); e = i.firstChild; if (i.childNodes.length === 1) { i = e } if (!e) { return this } } for (g = 0, c = this.length; g < c; g++) { h.call(this[g], i) } } } return this }, ps: function (b, c, d) { var a = this.constructor(); if (bK(b)) { bh.apply(a, b) } else { bM(a, b) } a.prevObject = this; a.context = this.context; if (c === "find") { a.selector = this["selector"] + (this["selector"] ? " " : "") + d } else { if (c) { a.selector = this["selector"] + "." + c + "(" + d + ")" } } return a } }; bq.make = function (a) { cg(this, a); return this }; bq.toArray = function () { return bP.call(this, 0) }; bq.get = function (a) { return a == null ? this["toArray"]() : (a < 0 ? this[this.length + a] : this[a]) }; bq.add = function (c, d) { var b = typeof c == "string" ? cp(c, d) : cs(c && c.nodeType ? [c] : c), a = bM(this.get(), b); return this.ps(cl(b[0]) || cl(a[0]) ? a : a2(a)) }; function cl(a) { return !a || !a.parentNode || a.parentNode.nodeType == 11 } bq.each = function (b) { if (!bS(b)) { return this } for (var a = 0, c = this.length; a < c; a++) { b.call(this[a], a, this[a]) } return this }; bq.attr = function (c, b) { var a = this[0]; return (bZ(c) && b === undefined) ? bk(a, c) : this["each"](function (f) { var d = this.nodeType; if (d !== 3 && d !== 8 && d !== 2) { if (bV(c)) { for (var e in c) { if (b === null) { this.removeAttribute(c) } else { this.setAttribute(e, c[e]) } } } else { this.setAttribute(c, bS(b) ? b.call(this, f, this.getAttribute(c)) : b) } } }) }; bq.removeAttr = function (a) { return this["each"](function () { this.removeAttribute(a) }) }; bq.data = function (b, a) { return aZ(this[0], b, a) }; bq.append = function () { return this.dm(arguments, true, function (a) { if (this.nodeType === 1) { this.appendChild(a) } }) }; bq.prepend = function () { return this.dm(arguments, true, function (a) { if (this.nodeType === 1) { this.insertBefore(a, this.firstChild) } }) }; bq.before = function () { return this.dm(arguments, false, function (a) { this.parentNode.insertBefore(a, this) }) }; bq.after = function () { if (this[0] && this[0].parentNode) { return this.dm(arguments, false, function (a) { this.parentNode.insertBefore(a, this.nextSibling) }) } return this }; bq.hide = function () { return this["each"](function () { bz(this, "display", this.style.display); this.style.display = "none" }) }; bq.show = function () { return this["each"](function () { this.style.display = bz(this, "display") || bg(this.tagName) }) }; bq.toggle = function () { return this["each"](function () { this.style.display = cp.Expr.hidden(this) ? bz(this, "display") || bg(this.tagName) : (bz(this, "display", this.style.display), "none") }) }; bq.eq = function (a) { return a === -1 ? this.slice(a) : this.slice(a, +a + 1) }; bq.first = function () { return this["eq"](0) }; bq.last = function () { return this["eq"](-1) }; bq.slice = function () { return this.ps(bP.apply(this, arguments), "slice", bP.call(arguments).join(",")) }; bq.map = function (a) { return this.ps(p(this, function (c, b) { return a.call(c, b, c) })) }; bq.find = function (a) { var f = this, d, c; if (!bZ(a)) { return cp(a).filter(function () { for (d = 0, c = f.length; d < c; d++) { if (b4(f[d], this)) { return true } } }) } var e = this.ps("", "find", a), g, h, b; for (d = 0, c = this.length; d < c; d++) { g = e.length; bM(e, cp(a, this[d])); if (d == 0) { for (h = g; h < e.length; h++) { for (b = 0; b < g; b++) { if (e[b] === e[h]) { e.splice(h--, 1); break } } } } } return e }; bq.not = function (a) { return this.ps(b2(this, a, false), "not", a) }; bq.filter = function (a) { return this.ps(b2(this, a, true), "filter", a) }; bq.indexOf = function (a) { return bw(this, a) }; bq.is = function (a) { return this.length > 0 && cp(this[0]).filter(a).length > 0 }; bq.remove = function () { for (var b = 0, a; (a = this[b]) != null; b++) { if (a.parentNode) { a.parentNode.removeChild(a) } } return this }; bq.closest = function (b, d) { var a = [], c; for (c = 0, l = this.length; c < l; c++) { cur = this[c]; while (cur) { if (bJ(b, [cur]).length > 0) { a.push(cur); break } else { cur = cur.parentNode; if (!cur || !cur.ownerDocument || cur === d || cur.nodeType === 11) { break } } } } a = a.length > 1 ? a2(a) : a; return this.ps(a, "closest", b) }; bq.val = function (a) { if (a == null) { return (this[0] && this[0].value) || "" } return this["each"](function () { this.value = a }) }; bq.html = function (a) { if (a == null) { return (this[0] && this[0].innerHTML) || "" } return this["each"](function () { this.innerHTML = a }) }; bq.text = function (b) { var a = this[0], c; return typeof b == "undefined" ? (a && (c = a.nodeType) ? ((c === 1 || c === 9) ? (typeof a.textContent == "string" ? a.textContent : a.innerText.replace(bQ, "")) : (c === 3 || c === 4) ? a.nodeValue : null) : null) : this["empty"]()["append"]((a && a.ownerDocument || bA).createTextNode(b)) }; bq.empty = function () { for (var b = 0, a; (a = this[b]) != null; b++) { while (a.firstChild) { a.removeChild(a.firstChild) } } return this }; bq.addClass = function (a) { var f, e, d, c, b, h, g; if (bS(a)) { return this["each"](function (i) { cp(this)["addClass"](a.call(this, i, this.className)) }) } if (a && bZ(a)) { f = a.split(br); for (e = 0, d = this.length; e < d; e++) { c = this[e]; if (c && c.nodeType === 1) { if (!c.className && f.length === 1) { c.className = a } else { b = " " + c.className + " "; for (h = 0, g = f.length; h < g; h++) { if (! ~b.indexOf(" " + f[h] + " ")) { b += f[h] + " " } } c.className = cn(b) } } } } return this }; bq.removeClass = function (a) { var e, d, f, b, c, h, g; if (bS(a)) { return this["each"](function (i) { cp(this)["removeClass"](a.call(this, i, this.className)) }) } if ((a && bZ(a)) || a === undefined) { e = (a || "").split(br); for (d = 0, f = this.length; d < f; d++) { b = this[d]; if (b.nodeType === 1 && b.className) { if (a) { c = (" " + b.className + " ").replace(bT, " "); for (h = 0, g = e.length; h < g; h++) { c = c.replace(" " + e[h] + " ", " ") } b.className = cn(c) } else { b.className = "" } } } } return this }; bq.hasClass = function (a) { return b8(this, a) }; bq.serializeArray = function () { return this["map"](function () { return this.elements ? cs(this.elements) : this }).filter(function () { return this.name && !this.disabled && (this.checked || bc.test(this.nodeName) || bB.test(this.type)) }).map(function (c, a) { var b = cp(this)["val"](); return b == null || bK(b) ? p(b, function (d) { return { name: a.name, value: d.replace(ca, "\r\n")} }) : { name: a.name, value: b.replace(ca, "\r\n")} }).get() }; cp.Expr = { hidden: function (a) { return a.offsetWidth === 0 || a.offsetHeight == 0 || ((cp.css && cp.css(a, "display") || a.style.display) === "none") }, visible: function (a) { return !cp.Expr.hidden(a) } }; function b2(a, c, d) { c = c || 0; if (bS(c)) { return bb(a, function (e, f) { return !!c.call(e, f, e) === d }) } else { if (c.nodeType) { return bb(a, function (e) { return (e === c) === d }) } else { if (bZ(c)) { var b = c.charAt(0) == ":" && cp.Expr[c.substring(1)]; return bb(a, function (e) { return b ? b(e) : e.parentNode && bw(cd(c, e.parentNode), e) >= 0 }) } } } return bb(a, function (e) { return (bw(c, e) >= 0) === d }) } function bz(a, d, c) { var b = cp.data(a, "_J"); if (typeof c === "undefined") { return b && a8[b] && a8[b][d] } if (!b) { cp.data(a, "_J", (b = ++a8.id)) } return (a8[b] || (a8[b] = {}))[d] = c } function bg(c) { if (!bs[c]) { var a = cp("<" + c + ">")["appendTo"](bA.body), b = (cp.css && cp.css(a[0], "display")) || a[0].style.display; a.remove(); bs[c] = b } return bs[c] } function cg(d, b) { d.length = (b && b.length || 0); if (d.length == 0) { return d } for (var c = 0, a = b.length; c < a; c++) { d[c] = b[c] } return d } function b8(b, a) { var a = " " + a + " "; for (var c = 0, d = b.length; c < d; c++) { if (bm(b[c], a)) { return true } } return false } cp.hasClass = b8; function bm(a, b) { return a.nodeType === 1 && (" " + a.className + " ").replace(bT, " ").indexOf(b) > -1 } function cb(b, d, f) { d = d || bA; f = f || []; if (d.nodeType == 1) { if (b(d)) { f.push(d) } } var c = d.childNodes; for (var e = 0, g = c.length; e < g; e++) { var a = c[e]; if (a.nodeType == 1) { cb(b, a, f) } } return f } cp.walk = cb; function cd(a, d, b) { if (a && bZ(a)) { if (d instanceof cp) { d = d[0] } d = d || bA; b = b || cp.query; var c = a.charAt(0), g = a.substring(1), e = bH.test(g), f; try { if (e) { return bP.call(b(a, d)) } return e ? bP.call(b(a, d)) : (c == "#" ? ((f = bA.getElementById(g)) ? [f] : bC) : cs(c == "." ? (d.getElementsByClassName ? d.getElementsByClassName(g) : b(a, d)) : d.getElementsByTagName(a))) } catch (h) { b9(h) } } return a.nodeType == 1 || a.nodeType == 9 ? [a] : bC } cp["$$"] = cd; cp.setQuery = function (a) { cp.query = function (c, b) { return cd(c, b, (a || function (d, e) { return e.querySelectorAll(d) })) } }; var bv = bG(); cp.setQuery(bv || function (a, b) { return bA.querySelectorAll ? cs((b || bA).querySelectorAll(a)) : [] }); function co(e, f, a) { var c = bA.head || bA.getElementsByTagName("head")[0] || a5, d = bA.createElement("script"), b; if (a) { d.async = "async" } d.onreadystatechange = function () { if (!(b = d.readyState) || b == "loaded" || b == "complete") { d.onload = d.onreadystatechange = null; if (c && d.parentNode) { c.removeChild(d) } d = undefined; if (f) { f() } } }; d.onload = f; d.src = e; c.insertBefore(d, c.firstChild) } cp.loadScript = co; function b9(a) { bU.console && bU.console.warn(arguments) } cp.each = function (a, g, d) { var f, b = 0, c = a.length, e = c === undefined || bS(a); if (d) { if (e) { for (f in a) { if (g.apply(a[f], d) === false) { break } } } else { for (; b < c; ) { if (g.apply(a[b++], d) === false) { break } } } } else { if (e) { for (f in a) { if (g.call(a[f], f, a[f]) === false) { break } } } else { for (; b < c; ) { if (g.call(a[b], b, a[b++]) === false) { break } } } } return a }; function bd(a, c, b) { if (a == null) { return } if (ce && a.forEach === ce) { a.forEach(c, b) } else { if (a.length === +a.length) { for (var d = 0, f = a.length; d < f; d++) { if (d in a && c.call(b, a[d], d, a) === bt) { return } } } else { for (var e in a) { if (b0.call(a, e)) { if (c.call(b, a[e], e, a) === bt) { return } } } } } } cp._each = bd; function bk(a, b) { return (a && a.nodeName === "INPUT" && a.type === "text" && b === "value") ? a.value : (a ? (a.getAttribute(b) || (b in a ? a[b] : undefined)) : null) } var cc = [/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/, /^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/, /\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/, /\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/]; function bJ(h, b) { var e = [], d, f, c, a, g; for (d = 0, c = cc.length; d < c; d++) { if (g = cc[d].exec(h)) { break } } if (d < cc.length) { for (f = 0; (a = b[f]); f++) { if ((d == 0 && g[1] == a.id) || (d == 1 && J(g[1], a.tagName)) || (d == 2 && bm(a, g[1])) || (d == 3 && g[2] == bk(a, g[1]))) { e.push(a) } } } else { b9(h + " not supported") } return e } cp.filter = bJ; function bw(d, b) { if (d == null) { return -1 } var c, a; if (bO && d.indexOf === bO) { return d.indexOf(b) } for (c = 0, a = d.length; c < a; c++) { if (d[c] === b) { return c } } return -1 } cp._indexOf = bw; cp._defaults = function (a) { bd(bP.call(arguments, 1), function (c) { for (var b in c) { if (a[b] == null) { a[b] = c[b] } } }); return a }; function bu(b, c, d) { var a = []; if (b == null) { return a } if (bY && b.filter === bY) { return b.filter(c, d) } bd(b, function (e, f, g) { if (c.call(d, e, f, g)) { a[a.length] = e } }); return a } cp._filter = bu; cp.proxy = function (b, e) { if (typeof e == "string") { var c = b[e]; e = b; b = c } if (bS(b)) { var a = bP.call(arguments, 2), d = function () { return b.apply(e, a.concat(bP.call(arguments))) }; d.guid = b.guid = b.guid || d.guid || bD++; return d } }; function a0(d, b, a) { var e = [], c = d[b]; while (c && c.nodeType !== 9 && (a === undefined || c.nodeType !== 1 || !cp(c).is(a))) { if (c.nodeType === 1) { e.push(c) } c = c[b] } return e } cp.dir = a0; function a7(b, c, a) { c = c || 1; var d = 0; for (; b; b = b[a]) { if (b.nodeType === 1 && ++d === c) { break } } return b } cp.nth = a7; function b1(b, c) { var a = []; for (; b; b = b.nextSibling) { if (b.nodeType === 1 && b !== c) { a.push(b) } } return a } cp.sibling = b1; function bb(b, d, g) { var e = [], a; g = !!g; for (var c = 0, f = b.length; c < f; c++) { a = !!d(b[c], c); if (g !== a) { e.push(b[c]) } } return e } cp.grep = bb; function p(g, h, i) { var b, a, d = [], f = 0, c = g.length, e = g instanceof cp || typeof c == "number" && ((c > 0 && g[0] && g[c - 1]) || c === 0 || bK(g)); if (e) { for (; f < c; f++) { b = h(g[f], f, i); if (b != null) { d[d.length] = b } } } else { for (a in g) { b = h(g[a], a, i); if (b != null) { d[d.length] = b } } } return d.concat.apply([], d) } cp.map = p; function aZ(a, d, c) { if (!a) { return {} } if (d && c) { a.setAttribute(d, c); return null } var b = {}; bd(bj(a), function (f, e) { if (e.indexOf("data-") !== 0 || !f) { return } b[e.substr("data-".length)] = f }); if (bZ(d)) { return b[d] } return b } cp.data = aZ; function bj(c) { var b = {}; for (var d = 0, a = c.attributes, e = a.length; d < e; d++) { b[a.item(d).nodeName] = a.item(d).nodeValue } return b } cp.attrs = bj; function J(a, b) { return !a || !b ? a == b : a.toLowerCase() === b.toLowerCase() } cp.eqSI = J; cp.trim = cn = a9 ? function (a) { return a == null ? "" : a9.call(a) } : function (a) { return a == null ? "" : a.toString().replace(bL, "").replace(bp, "") }; cp.indexOf = cp.inArray = function (c, d) { if (!d) { return -1 } if (ba) { return ba.call(d, c) } for (var a = 0, b = d.length; a < b; a++) { if (d[a] === c) { return a } } return -1 }; bd("Boolean Number String Function Array Date RegExp Object".split(" "), function (a) { cq["[object " + a + "]"] = a.toLowerCase(); return this }); function bI(a) { return a == null ? String(a) : cq[bN.call(a)] || "object" } cp.type = bI; function bZ(a) { return typeof a == "string" } function bV(a) { return typeof a == "object" } function bS(a) { return typeof a == "function" || bI(a) === "function" } cp.isFunction = bS; function bK(a) { return bI(a) === "array" } cp.isArray = Array.isArray || bK; function a4(a) { return !bZ(a) && typeof a.length == "number" } function ck(a) { return a && typeof a == "object" && "setInterval" in a } cp.isWindow = ck; function bo(a) { return a == null || !cr.test(a) || isNaN(a) } cp.isNaN = bo; function cv(b) { if (!b || bI(b) !== "object" || b.nodeType || ck(b)) { return false } try { if (b.constructor && !b0.call(b, "constructor") && !b0.call(b.constructor.prototype, "isPrototypeOf")) { return false } } catch (a) { return false } var c; for (c in b) { } return c === undefined || b0.call(b, c) } function bM(d, e) { var b = d.length, c = 0; if (typeof e.length == "number") { for (var a = e.length; c < a; c++) { d[b++] = e[c] } } else { while (e[c] !== undefined) { d[b++] = e[c++] } } d.length = b; return d } cp.merge = bM; function bW() { var f, g, d, h, i, a, b = arguments, k = b[0] || {}, c = 1, e = b.length, j = false; if (typeof k == "boolean") { j = k; k = b[1] || {}; c = 2 } if (typeof k != "object" && !bS(k)) { k = {} } if (e === c) { k = this; --c } for (; c < e; c++) { if ((f = b[c]) != null) { for (g in f) { d = k[g]; h = f[g]; if (k === h) { continue } if (j && h && (cv(h) || (i = bK(h)))) { if (i) { i = false; a = d && bK(d) ? d : [] } else { a = d && cv(d) ? d : {} } k[g] = bW(j, a, h) } else { if (h !== undefined) { k[g] = h } } } } } return k } cp.extend = cp.fn.extend = bW; function cs(d, c) { var a = c || []; if (d != null) { var b = bI(d); if (d.length == null || b == "string" || b == "function" || b === "regexp" || ck(d)) { bh.call(a, d) } else { bM(a, d) } } return a } cp.makeArray = cs; function b5(a, d, b) { d = ((d || bA) || d.ownerDocument || d[0] && d[0].ownerDocument || bA); b = b || d.createDocumentFragment(); if (a4(a)) { return bR(a, d, b) && b } var c = a1(a); while (c.firstChild) { b.appendChild(c.firstChild) } return b } cp.htmlFrag = b5; function a1(e, c) { var a = (c || bA).createElement("div"), f = (ci.exec(e) || ["", ""])[1].toLowerCase(), d = bl[f] || bl._default, b = d[0]; a.innerHTML = d[1] + e + d[2]; while (b--) { a = a.lastChild } return a } function bR(d, f, a) { var c = [], e, b; for (e = 0; (b = d[e]) != null; e++) { if (bZ(b)) { b = a1(b, f) } if (b.nodeType) { c.push(b) } else { c = bM(c, b) } } if (a) { for (e = 0; e < c.length; e++) { if (c[e].nodeType) { a.appendChild(c[e]) } } } return c } var a6 = function (a, d, c) { if (a === d) { return c } var b = a.nextSibling; while (b) { if (b === d) { return -1 } b = b.nextSibling } return 1 }; b4 = cp.contains = a5.contains ? function (a, b) { return a !== b && (a.contains ? a.contains(b) : true) } : function () { return false }; b6 = a5.compareDocumentPosition ? (b4 = function (a, b) { return !!(a.compareDocumentPosition(b) & 16) }) && function (a, b) { if (a === b) { aY = true; return 0 } if (!a.compareDocumentPosition || !b.compareDocumentPosition) { return a.compareDocumentPosition ? -1 : 1 } return a.compareDocumentPosition(b) & 4 ? -1 : 1 } : function (j, a) { if (j === a) { aY = true; return 0 } else { if (j.sourceIndex && a.sourceIndex) { return j.sourceIndex - a.sourceIndex } } var d, h, g = [], c = [], e = j.parentNode, b = a.parentNode, i = e; if (e === b) { return a6(j, a) } else { if (!e) { return -1 } else { if (!b) { return 1 } } } while (i) { g.unshift(i); i = i.parentNode } i = b; while (i) { c.unshift(i); i = i.parentNode } d = g.length; h = c.length; for (var f = 0; f < d && f < h; f++) { if (g[f] !== c[f]) { return a6(g[f], c[f]) } } return f === d ? a6(j, c[f], -1) : a6(g[f], a, 1) }; function a2(a) { if (b6) { aY = a3; a.sort(b6); if (aY) { for (var b = 1; b < a.length; b++) { if (a[b] === a[b - 1]) { a.splice(b--, 1) } } } } return a } cp.unique = a2; bd({ parent: function (a) { var b = a.parentNode; return b && b.nodeType !== 11 ? b : null }, parents: function (a) { return a0(a, "parentNode") }, parentsUntil: function (a, c, b) { return a0(a, "parentNode", b) }, next: function (a) { return a7(a, 2, "nextSibling") }, prev: function (a) { return a7(a, 2, "previousSibling") }, nextAll: function (a) { return a0(a, "nextSibling") }, prevAll: function (a) { return a0(a, "previousSibling") }, nextUntil: function (a, c, b) { return a0(a, "nextSibling", b) }, prevUntil: function (a, c, b) { return a0(a, "previousSibling", b) }, siblings: function (a) { return b1(a.parentNode.firstChild, a) }, children: function (a) { return b1(a.firstChild) }, contents: function (a) { return a.nodeName === "iframe" ? a.contentDocument || a.contentWindow["document "] : cs(a.childNodes) } }, function (a, b) { cp.fn[b] = function (c, d) { var e = p(this, a, c), f = bP.call(arguments); if (!bx.test(b)) { d = c } if (typeof d == "string") { e = bJ(d, e) } e = this.length > 1 && !b7[b] ? a2(e) : e; if ((this.length > 1 || cj.test(d)) && bn.test(b)) { e = e.reverse() } return this.ps(e, b, f.join(",")) } }); bd({ appendTo: "append", prependTo: "prepend", insertBefore: "before", insertAfter: "after" }, function (a, b) { cp.fn[b] = function (c) { var f = [], h = cp(c), d, e, g, i = this.length === 1 && this[0].parentNode; if (i && i.nodeType === 11 && i.childNodes.length === 1 && h.length === 1) { h[a](this[0]); return this } else { for (d = 0, g = h.length; d < g; d++) { e = (d > 0 ? this.clone(true) : this).get(); cp(h[d])[a](e); f = f.concat(e) } return this.ps(f, b, h.selector) } } }); function cm() { if (!bA.body) { return null } var a = bA.createElement("div"); bA.body.appendChild(a); a.style.width = "20px"; a.style.padding = "10px"; var b = a.offsetWidth; bA.body.removeChild(a); return b == 40 } (function () { var c = document.createElement("div"); c.style.display = "none"; c.innerHTML = "   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>"; var i = c.getElementsByTagName("a")[0]; cp.support = { boxModel: null, opacity: /^0.55$/.test(i.style.opacity), cssFloat: !!i.style.cssFloat }; var d = /(webkit)[ \/]([\w.]+)/, g = /(opera)(?:.*version)?[ \/]([\w.]+)/, a = /(msie) ([\w.]+)/, e = /(mozilla)(?:.*? rv:([\w.]+))?/, h = navigator.userAgent.toLowerCase(), f = d.exec(h) || g.exec(h) || a.exec(h) || h.indexOf("compatible") < 0 && e.exec(h) || [], b; b = cp.browser = { version: f[2] || "0" }; b[f[1] || ""] = true })(); cp.scriptsLoaded = function (a) { if (bS(a)) { by.push(a) } }; function bE(a, b) { be.push({ url: a, cb: b }) } cp.loadAsync = bE; function bf() { bd(by, function (a) { a() }); cf = true } cp.init = false; cp.onload = function () { if (!cp.init) { try { cp.support.boxModel = cm(); var b = 0; bd(be, function (c) { b++; co(c.url, function () { try { if (c.cb) { c.cb() } } catch (d) { } if (! --b) { bf() } }) }); cp.init = true; if (!b) { bf() } } catch (a) { b9(a) } } }; if (bA.body && !cp.init) { setTimeout(cp.onload, 1) } cp.hook = function (a) { ct.push(a) }; cp.plug = function (b, a) { var c = bZ(b) ? b : b.name; a = bS(b) ? b : a; if (!bS(a)) { throw "Plugin fn required" } if (c && a) { cu[c] = a } a(cp) }; return cp })(); $.plug("ajax", function ($) { var xhrs = [function () { return new XMLHttpRequest() }, function () { return new ActiveXObject("Microsoft.XMLHTTP") }, function () { return new ActiveXObject("MSXML2.XMLHTTP.3.0") }, function () { return new ActiveXObject("MSXML2.XMLHTTP") } ], _xhrf = null; function _xhr() { if (_xhrf != null) { return _xhrf() } for (var i = 0, l = xhrs.length; i < l; i++) { try { var f = xhrs[i], req = f(); if (req != null) { _xhrf = f; return req } } catch (e) { } } return function () { } } $.xhr = _xhr; function _xhrResp(xhr, dataType) { dataType = (dataType || xhr.getResponseHeader("Content-Type").split(";")[0]).toLowerCase(); if (dataType.indexOf("json") >= 0) { return window.JSON ? window.JSON.parse(xhr.responseText) : eval(xhr.responseText) } if (dataType.indexOf("script") >= 0) { return eval(xhr.responseText) } if (dataType.indexOf("xml") >= 0) { return xhr.responseXML } return xhr.responseText } $._xhrResp = _xhrResp; $.formData = function formData(o) { var kvps = [], regEx = /%20/g; for (var k in o) { kvps.push(encodeURIComponent(k).replace(regEx, "+") + "=" + encodeURIComponent(o[k].toString()).replace(regEx, "+")) } return kvps.join("&") }; $.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "), function (i, o) { $.fn[o] = function (f) { return this["bind"](o, f) } }); function ajax(url, o) { var xhr = _xhr(), timer, n = 0; if (typeof url === "object") { o = url } else { o.url = url } o = $._defaults(o, { userAgent: "XMLHttpRequest", lang: "en", type: "GET", data: null, contentType: "application/x-www-form-urlencoded", dataType: null, processData: true, headers: { "X-Requested-With": "XMLHttpRequest"} }); if (o.timeout) { timer = setTimeout(function () { xhr.abort(); if (o.timeoutFn) { o.timeoutFn(o.url) } }, o.timeout) } var cbCtx = $(o.context || document), evtCtx = cbCtx; xhr.onreadystatechange = function () { if (xhr.readyState == 4) { if (timer) { clearTimeout(timer) } if (xhr.status < 300) { var res = _xhrResp(xhr, o.dataType); if (o.success) { o.success(res) } evtCtx.trigger("ajaxSuccess", [xhr, res, o]) } else { if (o.error) { o.error(xhr, xhr.status, xhr.statusText) } evtCtx.trigger(cbCtx, "ajaxError", [xhr, xhr.statusText, o]) } if (o.complete) { o.complete(xhr, xhr.statusText) } evtCtx.trigger(cbCtx, "ajaxComplete", [xhr, o]) } else { if (o.progress) { o.progress(++n) } } }; var url = o.url, data = null; var isPost = o.type == "POST" || o.type == "PUT"; if (o.data && o.processData && typeof o.data == "object") { data = $.formData(o.data) } if (!isPost && data) { url += "?" + data } xhr.open(o.type, url); try { for (var i in o.headers) { xhr.setRequestHeader(i, o.headers[i]) } } catch (_) { console.log(_) } if (isPost) { xhr.setRequestHeader("Content-Type", o.contentType) } xhr.send(data) } $.ajax = ajax; $.getJSON = function (url, data, success, error) { if ($.isFunction(data)) { error = success; success = data; data = null } ajax({ url: url, data: data, success: success, dataType: "json" }) }; $.get = function (url, data, success, dataType) { if ($.isFunction(data)) { dataType = success; success = data; data = null } ajax({ url: url, type: "GET", data: data, success: success, dataType: dataType || "text/plain" }) }; $.post = function (url, data, success, dataType) { if ($.isFunction(data)) { dataType = success; success = data; data = null } ajax({ url: url, type: "POST", data: data, success: success, dataType: dataType || "text/plain" }) }; $.getScript = function (script, callback) { $.loadScript(script, callback, true) } }); $.plug("css", function (ad) { var L = document, ah = L.documentElement, ac = /alpha\([^)]*\)/i, aj = /opacity=([^)]*)/, Y = /-([a-z])/ig, X = /([A-Z])/g, ai = /^-?\d+(?:px)?$/i, aa = /^-?\d/, al = /^(?:body|html)$/i, Z = { position: "absolute", visibility: "hidden", display: "block" }, R = ["Left", "Right"], M = ["Top", "Bottom"], W, J, U, S = function (a, b) { return b.toUpperCase() }; ad.cssHooks = { opacity: { get: function (a, c) { if (!c) { return a.style.opacity } var b = W(a, "opacity", "opacity"); return b === "" ? "1" : b } } }; ad._each(["height", "width"], function (a) { ad.cssHooks[a] = { get: function (c, d, e) { var b; if (d) { if (c.offsetWidth !== 0) { return T(c, a, e) } Q(c, Z, function () { b = T(c, a, e) }); return b } }, set: function (c, b) { if (ai.test(b)) { b = parseFloat(b); if (b >= 0) { return b + "px" } } else { return b } } } }); function T(c, d, e) { var a = d === "width" ? c.offsetWidth : c.offsetHeight, b = d === "width" ? R : M; if (a > 0) { if (e !== "border") { ad.each(b, function () { if (!e) { a -= parseFloat(V(c, "padding" + this)) || 0 } if (e === "margin") { a += parseFloat(V(c, e + this)) || 0 } else { a -= parseFloat(V(c, "border" + this + "Width")) || 0 } }) } return a + "px" } return "" } if (!ad.support.opacity) { ad.support.opacity = { get: function (b, a) { return aj.test((a && b.currentStyle ? b.currentStyle.filter : b.style.filter) || "") ? (parseFloat(RegExp.$1) / 100) + "" : a ? "1" : "" }, set: function (b, a) { var c = b.style; c.zoom = 1; var e = ad.isNaN(a) ? "" : "alpha(opacity=" + a * 100 + ")", d = c.filter || ""; c.filter = ac.test(d) ? d.replace(ac, e) : c.filter + " " + e } } } if (L.defaultView && L.defaultView.getComputedStyle) { J = function (a, e, b) { var c, f, d; b = b.replace(X, "-$1").toLowerCase(); if (!(f = a.ownerDocument.defaultView)) { return undefined } if ((d = f.getComputedStyle(a, null))) { c = d.getPropertyValue(b); if (c === "" && !ad.contains(a.ownerDocument.documentElement, a)) { c = ad.style(a, b) } } return c } } if (L.documentElement.currentStyle) { U = function (a, c) { var f, d = a.currentStyle && a.currentStyle[c], e = a.runtimeStyle && a.runtimeStyle[c], b = a.style; if (!ai.test(d) && aa.test(d)) { f = b.left; if (e) { a.runtimeStyle.left = a.currentStyle.left } b.left = c === "fontSize" ? "1em" : (d || 0); d = b.pixelLeft + "px"; b.left = f; if (e) { a.runtimeStyle.left = e } } return d === "" ? "auto" : d } } W = J || U; ad.fn.css = function (b, a) { if (arguments.length === 2 && a === undefined) { return this } return ae(this, b, a, true, function (d, e, c) { return c !== undefined ? H(d, e, c) : V(d, e) }) }; ad.cssNumber = { zIndex: true, fontWeight: true, opacity: true, zoom: true, lineHeight: true }; ad.cssProps = { "float": ad.support.cssFloat ? "cssFloat" : "styleFloat" }; function H(g, h, b, f) { if (!g || g.nodeType === 3 || g.nodeType === 8 || !g.style) { return } var c, e = O(h), i = g.style, a = ad.cssHooks[e]; h = ad.cssProps[e] || e; if (b !== undefined) { if (typeof b === "number" && isNaN(b) || b == null) { return } if (typeof b === "number" && !ad.cssNumber[e]) { b += "px" } if (!a || !("set" in a) || (b = a.set(g, b)) !== undefined) { try { i[h] = b } catch (d) { } } } else { if (a && "get" in a && (c = a.get(g, false, f)) !== undefined) { return c } return i[h] } } ad.style = H; function V(f, a, d) { var b, c = O(a), e = ad.cssHooks[c]; a = ad.cssProps[c] || c; if (e && "get" in e && (b = e.get(f, true, d)) !== undefined) { return b } else { if (W) { return W(f, a, c) } } } ad.css = V; function Q(a, b, e) { var d = {}, c; for (var c in b) { d[c] = a.style[c]; a.style[c] = b[c] } e.call(a); for (c in b) { a.style[c] = d[c] } } ad.swap = Q; function O(a) { return a.replace(Y, S) } ad.camelCase = O; function ae(f, a, c, i, d, b) { var h = f.length; if (typeof a === "object") { for (var g in a) { ae(f, g, a[g], i, d, c) } return f } if (c !== undefined) { i = !b && i && ad.isFunction(c); for (var e = 0; e < h; e++) { d(f[e], a, i ? c.call(f[e], e, d(f[e], a)) : c, b) } return f } return h ? d(f[0], a) : undefined } var I, af, ag, am, P, N, ak = function () { if (I) { return } var e = L.body, f = L.createElement("div"), g, a, b, h, d = parseFloat(V(e, "marginTop")) || 0, c = "<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>"; ad.extend(f.style, { position: "absolute", top: 0, left: 0, margin: 0, border: 0, width: "1px", height: "1px", visibility: "hidden" }); f.innerHTML = c; e.insertBefore(f, e.firstChild); g = f.firstChild; a = g.firstChild; h = g.nextSibling.firstChild.firstChild; P = (a.offsetTop !== 5); N = (h.offsetTop === 5); a.style.position = "fixed"; a.style.top = "20px"; am = (a.offsetTop === 20 || a.offsetTop === 15); a.style.position = a.style.top = ""; g.style.overflow = "hidden"; g.style.position = "relative"; ag = (a.offsetTop === -5); af = (e.offsetTop !== d); e.removeChild(f); I = true }, ab = function (c) { var a = c.offsetTop, b = c.offsetLeft; ak(); if (af) { a += parseFloat(V(c, "marginTop")) || 0; b += parseFloat(V(c, "marginLeft")) || 0 } return { top: a, left: b} }; ad.fn.offset = function () { var j = this[0], f; if (!j || !j.ownerDocument) { return null } if (j === j.ownerDocument.body) { return ab(j) } try { f = j.getBoundingClientRect() } catch (b) { } if (!f || !ad.contains(ah, j)) { return f ? { top: f.top, left: f.left} : { top: 0, left: 0} } var e = L.body, d = K(L), g = ah.clientTop || e.clientTop || 0, c = ah.clientLeft || e.clientLeft || 0, k = d.pageYOffset || ad.support.boxModel && ah.scrollTop || e.scrollTop, h = d.pageXOffset || ad.support.boxModel && ah.scrollLeft || e.scrollLeft, a = f.top + k - g, i = f.left + h - c; return { top: a, left: i} }; ad.fn.position = function () { if (!this[0]) { return null } var b = this[0], d = this["offsetParent"](), a = this["offset"](), c = al.test(d[0].nodeName) ? { top: 0, left: 0} : d.offset(); a.top -= parseFloat(V(b, "marginTop")) || 0; a.left -= parseFloat(V(b, "marginLeft")) || 0; c.top += parseFloat(V(d[0], "borderTopWidth")) || 0; c.left += parseFloat(V(d[0], "borderLeftWidth")) || 0; return { top: a.top - c.top, left: a.left - c.left} }; ad.fn.offsetParent = function () { return this["map"](function () { var a = this.offsetParent || L.body; while (a && (!al.test(a.nodeName) && V(a, "position") === "static")) { a = a.offsetParent } return a }) }; ad._each(["Height", "Width"], function (c, b) { var a = c.toLowerCase(); ad.fn["inner" + c] = function () { var d = this[0]; return d && d.style ? parseFloat(V(d, a, "padding")) : null }; ad.fn["outer" + c] = function (d) { var e = this[0]; return e && e.style ? parseFloat(V(e, a, d ? "margin" : "border")) : null }; ad.fn[a] = function (i) { var h = this[0]; if (!h) { return i == null ? null : this } if (ad.isFunction(i)) { return this["each"](function (j) { var k = ad(this); k[a](i.call(this, j, k[a]())) }) } if (ad.isWindow(h)) { var g = h.document.documentElement["client" + c], e = h.document.body; return h.document.compatMode === "CSS1Compat" && g || e && e["client" + c] || g } else { if (h.nodeType === 9) { return Math.max(h.documentElement["client" + c], h.body["scroll" + c], h.documentElement["scroll" + c], h.body["offset" + c], h.documentElement["offset" + c]) } else { if (i === undefined) { var f = V(h, a), d = parseFloat(f); return ad.isNaN(d) ? f : d } else { return this["css"](a, typeof i === "string" ? i : i + "px") } } } } }); function K(a) { return ad.isWindow(a) ? a : a.nodeType === 9 ? a.defaultView || a.parentWindow : false } ad._each(["Left", "Top"], function (c, b) { var a = "scroll" + c; ad.fn[a] = function (f) { var e, d; if (f === undefined) { e = this[0]; if (!e) { return null } d = K(e); return d ? ("pageXOffset" in d) ? d[b ? "pageYOffset" : "pageXOffset"] : ad.support.boxModel && d.document.documentElement[a] || d.document.body[a] : e[a] } return this["each"](function () { d = K(this); if (d) { d.scrollTo(!b ? f : ad(d)["scrollLeft"](), b ? f : ad(d)["scrollTop"]()) } else { this[a] = f } }) } }) }); $.plug("custom", function (o) { var k = window, m = document, p = {}, n = k.location.search.substring(1).split("&"); for (var q = 0; q < n.length; q++) { var i = n[q].split("="); p[i[0]] = unescape(i[1]) } o.queryString = function (a) { return p[a] }; var j = o.Key = function (a) { this.keyCode = a }; j.namedKeys = { Backspace: 8, Tab: 9, Enter: 13, Shift: 16, Ctrl: 17, Alt: 18, Pause: 19, Capslock: 20, Escape: 27, PageUp: 33, PageDown: 34, End: 35, Home: 36, LeftArrow: 37, UpArrow: 38, RightArrow: 39, DownArrow: 40, Insert: 45, Delete: 46 }; o._each(j.namedKeys, function (a, c) { var b = a; j.prototype["is" + c] = function () { return this.keyCode === b } }); o.key = function (a) { a = a || window.event; return new j(a.keyCode || a.which) }; o.cancelEvent = function (a) { if (!a) { a = window.event } a.cancelBubble = true; a.returnValue = false; if (a.stopPropagation) { a.stopPropagation(); a.preventDefault() } return false } }); $.plug("docready", function (t) { var s = window, m = document, p, r, k = [], q = false, n = 1; t.hook(function (a, b) { if (typeof a == "function") { this["ready"](a); return true } }); function u() { if (q) { return } try { m.documentElement.doScroll("left") } catch (a) { setTimeout(u, 1); return } o() } function o(c) { if (c === true) { n-- } if (!n || (c !== true && !q)) { if (!m.body) { return setTimeout(a, 1) } q = true; if (c !== true && --n > 0) { return } if (k) { var d, b = 0, a = k; k = null; while ((d = a[b++])) { d.call(m, t) } if (t.fn.trigger) { t(m)["trigger"]("ready")["unbind"]("ready") } } } } t.ready = o; p = m.addEventListener ? function () { m.removeEventListener("DOMContentLoaded", p, false); o() } : function () { if (m.readyState === "complete") { m.detachEvent("onreadystatechange", p); o() } }; t.bindReady = function () { if (r) { return } r = true; if (m.readyState === "complete") { return setTimeout(o, 1) } if (m.addEventListener) { m.addEventListener("DOMContentLoaded", p, false); s.addEventListener("load", o, false) } else { if (m.attachEvent) { m.attachEvent("onreadystatechange", p); s.attachEvent("onload", o); var b = false; try { b = window.frameElement == null } catch (a) { } if (m.documentElement.doScroll && b) { u() } } } }; t.fn.ready = function (a) { t.bindReady(); if (q) { a.call(m, t) } else { if (k) { k.push(a) } } return this }; if (!t.init) { t(document)["ready"](t.onload) } }); $.plug("events", function (A) { var t = document, B = {}, E = 1; function s(a) { return a._jquid || (a._jquid = E++) } function u(a, b, c) { if (a.addEventListener) { a.addEventListener(b, c, false) } else { a["e" + b + c] = c; a[b + c] = function () { a["e" + b + c](window.event) }; a.attachEvent("on" + b, a[b + c]) } } A.bind = u; function p(a, b, c) { if (a.removeEventListener) { a.removeEventListener(b, c, false) } else { a.detachEvent("on" + b, a[b + c]); a[b + c] = null } } A.unbind = p; function D(b) { var a = ("" + b).split("."); return { e: a[0], ns: a.slice(1).sort().join(" ")} } function x(a) { return new RegExp("(?:^| )" + a.replace(" ", " .* ?") + "(?: |$)") } function F(b, d, c, a) { d = D(d); if (d.ns) { var e = x(d.ns) } return A._filter(B[s(b)] || [], function (f) { return f && (!d.e || f.e == d.e) && (!d.ns || e.test(f.ns)) && (!c || f.fn == c) && (!a || f.sel == a) }) } function r(d, g, e, c, f) { var a = s(d), b = (B[a] || (B[a] = [])); A._each(g.split(/\s/), function (h) { var i = A.extend(D(h), { fn: e, sel: c, del: f, i: b.length }); b.push(i); u(d, i.e, f || e) }); d = null } function w(c, e, d, b) { var a = s(c); A._each((e || "").split(/\s/), function (f) { A._each(F(c, f, d, b), function (g) { delete B[a][g.i]; p(c, g.e, g.del || g.fn) }) }) } var y = ["preventDefault", "stopImmediatePropagation", "stopPropagation"]; function z(b) { var a = A.extend({ originalEvent: b }, b); A._each(y, function (c) { a[c] = function () { return b[c].apply(b, arguments) } }); return a } var C = A.fn; A._each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "), function (a) { C[a] = function (c, b) { return arguments.length > 0 ? this["bind"](a, c, b) : this["trigger"](a) } }); C.bind = function (a, b) { return this["each"](function () { r(this, a, b) }) }; C.unbind = function (a, b) { return this["each"](function () { w(this, a, b) }) }; C.one = function (a, b) { return this["each"](function () { var d = this; r(this, a, function c() { b(); w(d, a, arguments.callee) }) }) }; C.delegate = function (a, b, c) { return this["each"](function (e, d) { r(d, b, c, a, function (f) { var g = f.target, h = A["$$"](a, d); while (g && h.indexOf(g) < 0) { g = g.parentNode } if (g && !(g === d) && !(g === document)) { c.call(g, A.extend(z(f || window.event), { currentTarget: g, liveFired: d })) } }) }) }; C.undelegate = function (a, b, c) { return this["each"](function () { w(this, b, c, a) }) }; C.live = function (a, b) { A(t.body)["delegate"](this["selector"], a, b); return this }; C.die = function (a, b) { A(t.body)["undelegate"](this["selector"], a, b); return this }; C.trigger = function (a) { return this["each"](function () { if ((a == "click" || a == "blur" || a == "focus") && this[a]) { return this[a]() } if (t.createEvent) { var b = t.createEvent("Events"); this.dispatchEvent(b, b.initEvent(a, true, true)) } else { if (this.fireEvent) { try { if (a !== "ready") { this.fireEvent("on" + a) } } catch (b) { } } } }) }; if (!A.init) { A(window)["bind"]("load", A.onload) } }); $.extend({ config: { staticSrcRoot: "/", luiCalendarScript: "js/hobbit.lui.calendar.js", luiCalendarCss: "css/hobbit.lui.calendar.css", luiImggalleryScript: "js/hobbit.lui.imggallery.js", luiImggalleryCss: "css/hobbit.lui.imggallery.css" }, getStaticSrcPath: function (a) { return a }, fxPath: document.scripts[document.scripts.length - 1].src.substring(0, document.scripts[document.scripts.length - 1].src.lastIndexOf("/") + 1) }); $(function () { $(window).bind("autoHeight", function () { var a = $("div.ui_page"); var b = function (c) { a.css({ "min-height": $.browserSize().height + c }) }; if (a.length == 0) { return } b(100); $.scrollTop(); if ($.platform.isIphoneOS) { if ($.platform.isQQ) { b(0) } else { b(0) } } else { if ($.platform.isAndroid) { b(0) } else { b(0) } } $.autoFillHeight(0) }).trigger("autoHeight").bind("orientationchange", function () { $(this).trigger("autoHeight") }); if ($.platform.isIphoneOS && !$.platform.isIOS4) { $(window).bind("touchstart", function () { }).bind("touchend", function () { }) } else { $("a").hoverClass() } $("form").submit(function (a) { a.stopPropagation(); a.preventDefault(); return false }) }); var platformClass = function () { var a = navigator.userAgent; var b = function (c) { return a.toLowerCase().indexOf(c.toLowerCase()) != -1 }; this.userAgent = a; this.isAndroid = b("android"); this.isIphoneOS = b("iphone os"); this.isIOS4 = b("os 4_") || b("os 3_"); this.isIOS6 = b("os 6_"); this.isQQ = b("qqbrowser"); this.isSafari = b("mac os") && b("safari") && !b("crios") }; $.extend({ platform: new platformClass(), json2nvp: function (b) { var a = []; for (var c in b) { a.push(c + "=" + b[c]) } return a.join("&") }, nvp2Json: function (b) { var e = {}, c = b.split("&"), f = decodeURIComponent, g, a; $.each(c, function (d, h) { h = h.split("="); g = f(h[0]); a = f(h[1]); e[g] = !e[g] ? a : [].concat(e[g]).concat(a) }); return e }, scrollTop: function (a) { if (a) { window.scrollTo(0, a.offset().top) } else { window.scrollTo(0, 1) } }, autoFillHeight: function (a) { var b = function (c) { $("#footer_fillHeight").css("height", Math.max(0, $.browserSize().height - $("footer").offset().top - $("footer").height() + $("#footer_fillHeight").height() + (a || 0) + c)) }; $("#footer_fillHeight").css("height", 200); b(0); setTimeout(function () { b(0) }, 500) }, blurScrollTop: function () { $("input").add("select").bind("blur", function () { window.scrollTo(0, 1) }) }, browserSize: function () { return { height: window.innerHeight || $(window).height(), width: window.innerWidth || $(window).width()} }, ajaxLink: function (a) { window.location.href = a }, ajaxFormPost: function (e, b, f, a, d) { var c = function () { var i = $(document.getElementById(e)); isSubmit = a || Validator.Validate(document.getElementById(e), 1); if (isSubmit) { $.showLoader(); var h = i.attr("action"); var g = i.serialize(); var j = { set: null, state: 0 }; j.set = window.setTimeout(function () { $.hideLoader(); window.clearTimeout(j); j.state = 1; $.dialog("网络超时，点击确定重试。", null, function () { c() }, function () { }) }, (d || 30) * 1000); $.ajax({ type: "POST", url: h + "?t=" + new Date().getTime() + "&" + g, dataType: "json", complete: function () { window.clearTimeout(j.set); $.hideLoader() }, success: function (k) { if (j.state != 0) { return } if (k.Msg) { $.dialog(k.Msg, null, function () { if (k.IsCallBack && f) { f(k) } if (k.EscapeRedirctUrl) { window.location.href = k.EscapeRedirctUrl } if (k.Refresh) { window.location.href = window.location.href + (window.location.href.indexOf("?") == -1 ? "?t=" : "&t=") + new Date().getTime() } }) } else { if (k.IsCallBack && f) { try { f(k) } catch (m) { } } if (k.EscapeRedirctUrl) { window.location.href = k.EscapeRedirctUrl } if (k.Refresh) { window.location.href = window.location.href } } }, error: function (n, k, m) { if (k == 404) { $.dialog("操作超时，点击确定返回首页", null, function () { location.href = "/" }) } } }) } }; if (b) { $.dialog(b, null, c, function () { }) } else { c() } }, getCss: function (b) { var a = document.getElementsByTagName("head").item(0) || document.documentElement; var c = document.createElement("link"); c.setAttribute("rel", "stylesheet"); c.setAttribute("type", "text/css"); c.setAttribute("href", b); a.appendChild(c) }, NVC: function (c) { var f = new Array(); var b = function (h, g) { this.name = h; this.value = g }; var a = 0; this.set = function (i, h) { if (i == null) { f.push(new b(a++, h)) } else { var g = this.findName(i); if (g == -1) { f.push(new b(i, h)) } else { f[g].value = h } } }; this.get = function (h) { var g = this.findName(h); if (g == -1) { return null } return f[g].value }; this.index = function (g) { if (f.length == 0 || g < 0 || g >= f.length) { return null } return f[g] }; this.findName = function (h) { if (f.length == 0) { return -1 } for (var g = 0; g < f.length; g++) { if (f[g].name == h) { return g } } return -1 }; this.pop = function () { if (f.length == 0) { return null } return f.pop() }; this.shift = function () { if (f.length == 0) { return null } return f.shift() }; this.clear = function () { f.splice(0, f.length - 1); a = 0 }; this.count = function () { return f.length }; this.reverse = function () { f.reverse() }; this.sort = function (g) { f.sort(g) }; this.toString = function () { var g = encodeURIComponent; var j = []; for (var h = 0; h < f.length; h++) { j.push(g(f[h].name) + "=" + g(f[h].value)) } return j.join("&") }; if (c && c.length > 0) { var d = $.nvp2Json(c); for (var e in d) { this.set(e, d[e]) } } } }); $.fn.extend({ serialize: function () { var a = []; $.each(this.serializeArray(), function (b, c) { a.push(c.name + "=" + encodeURIComponent(c.value)) }); return a.join("&") }, serializeToJson: function () { var c = {}; var b = this.serializeArray(); $.each(b, function () { if (c[this.name]) { if (!c[this.name].push) { c[this.name] = [c[this.name]] } c[this.name].push(this.value || "") } else { c[this.name] = this.value || "" } }); return c }, hoverClass: function (a) { if (!$(this).hasClass(a || "active")) { $(this).bind("touchstart", function () { $(this).addClass(a || "active"); setTimeout(function () { $(this).removeClass(a || "active") }, 500) }).bind("touchend", function () { $(this).removeClass(a || "active") }) } return $(this) }, ajaxHtml: function (a, d, b, f, e) { var c = $(this); if (!e) { $.showLoader() } if (d) { d.t = new Date().getDate() } $.ajax({ type: b, url: a, data: d, complete: function () { if (!e) { $.hideLoader() } }, success: function (g) { c.html(g); c.find("a").hoverClass(); if (f) { try { f() } catch (h) { } } } }) } }); $.extend({ weekText: ["周日", "周一", "周二", "周三", "周四", "周五", "周六"], dialog: function (h, g, c, b) { $.uiDialog.children(".ui_dialog_content").html(h); $.uiDialog.children(".ui_dialog_title").html(g || "提示"); var e = $.uiDialog.find(".ui_dialog_ok"); var f = $.uiDialog.find(".ui_dialog_cancel"); var d = function () { $.uiDialog.hide(); $.uiDialog_Mask.hide(); $("select").css("display", "block") }; var a = function () { $.uiDialog_Mask.css({ height: $(document).height() }).appendTo("body").show(); if ($.platform.isIOS4) { $.uiDialog.appendTo("body").css({ top: ($(window).scrollTop() + $.browserSize().height / 2) - ($.uiDialog.height() / 2) }).show() } else { $.uiDialog.appendTo("body").css({ top: ($.browserSize().height / 2) - ($.uiDialog.height() / 2) - 20 }).show() } $("select").css("display", "none") }; e.unbind("click").click(function () { d(); if (c) { try { c() } catch (i) { } } }).hoverClass(); if (b) { e.css({ width: "44%" }); f.css("display", "block").unbind("click").click(function () { d(); try { b() } catch (i) { } }).hoverClass() } else { e.css({ width: "100%" }); f.css("display", "none") } a() }, uiDialog: $("<div>").addClass("ui_dialog").html('<div class="ui_dialog_title"></div><div class="ui_dialog_content"></div><div class="ui_dialog_footer"><a class="ui_dialog_cancel" style="float:left;width:44%;display:none">取 消</a><a class="ui_dialog_ok" style="float:right;width:100%">确 定</a></div>'), uiLoader: $("<div>").addClass("ui_loader").html("<div class='ui_loader_close'>\u00d7</div><div class='ui_loader_icon'><img src='images/loading.gif'></div><h1></h1>"), uiDialog_Mask: $("<div>").addClass("ui_mask"), uiMask: $("<div>").addClass("ui_mask").css({ position: "absolute" }), uiToggle: $("<div>").addClass("ui_toggle").html("<div class='ui_icon ui_icon_toggle_arrow_r'></div>"), uiDrawer: function (a) { $.extend({ top: false, height: "auto", onopen: null, onclose: null }, a); var c = $("#" + a.id).css("height", a.height); var b = 0; this.open = function () { b = document.documentElement.scrollTop || document.body.scrollTop; if (a.onopen) { if (!a.onopen()) { return } } c.show(); if (a.top) { $.scrollTop(c) } }; this.close = function (d) { if (a.onclose) { if (!a.onclose()) { return } } c.hide(); if (d) { window.scrollTo(0, b) } }; this.setHeight = function (d) { c.css("height", d) } }, uiSearcher: function (b) { $.extend({ onupdate: null, onok: null, oncancle: null, onfocus: null }, b); var e = this; var f = $("#" + b.id); var d = f.find("input").bind("input", function () { e.update() }).bind("focus", function () { if (b.onfocus) { b.onfocus() } }); var c = f.find(".ui_searcher_btn").hoverClass().bind("click", function () { if (c.attr("data-type") == "ok") { if (b.onok) { b.onok(d.val()) } } else { if (b.oncancle) { b.oncancle(d.val()) } } }); var a = $("<div>").addClass("ui_searcher_clear").html("\u00d7").click(function () { d.val(""); e.update(); d.focus() }).appendTo(f); this.update = function (g) { if (d.val().length == 0) { c.html("取消").attr("data-type", "cancel"); a.hide() } else { c.html("确定").attr("data-type", "ok"); a.show() } if (!g && b.onupdate) { b.onupdate(d.val()) } return this }; this.update(true); this.set = function (g, h) { d.val(g); e.update(h); return this }; this.get = function () { return d.val(v); return this }; this.focus = function () { d.focus(); return this } }, uiSuggestion: function (i) { $.extend({ delay: 2000, count: 10, onclick: null, jsonp: null, format: null, cache: 10 }, i); var g = this; var c = $("#" + i.id); var a = new $.NVC(); var e = null; var d = null; var b = null; var h = function (k) { c.empty(); if (d) { e = d; d = null; f(e) } else { e = null } if (!k || k.length == 0) { c.hide(); return } var n = null; var p = null; for (var m = 0; m < Math.min(k.length, i.count); m++) { p = k[m]; if (typeof p == "string") { $("<a>").html(format.replace(/{value}/g, p)).attr("data-val", p).click(function () { c.hide(); if (i.onclick) { i.onclick($(this).attr("data-val")) } }).appendTo(c) } else { if (typeof p == "object") { n = i.format; for (var q in p) { n = n.replace(new RegExp(q, "g"), p[q]) } $("<a>").html(n).attr("data-nvp", $.json2nvp(p)).click(function () { c.hide(); if (i.onclick) { i.onclick($.nvp2Json($(this).attr("data-nvp"))) } }).appendTo(c) } } } c.show() }; var f = function (j) { e = j; var k = i.jsonp; for (var m in j) { k = k.replace(new RegExp("{" + m + "}", "g"), j[m]) } $.getScript(k, null) }; this.fire = function (k) { if (e) { d = e; return g } var m = a.get($.json2nvp(k)); if (m != null) { h(m); return g } clearTimeout(b); b = setTimeout(function () { f(k) }, i.delay); return g }; this.callback = function (k) { if (a.count() >= i.cache) { a.shift() } a.set($.json2nvp(e), k); h(k) }; this.hide = function () { setTimeout(function () { c.hide() }, 100); return g } }, showLoader: function (a) { $.uiDialog_Mask.css({ height: $(document).height() }).appendTo("body").show(); $.uiLoader.find("h1").html(a || "努力加载中..."); if ($.platform.isIOS4) { $.uiLoader.appendTo("body").css({ top: ($(window).scrollTop() + $.browserSize().height / 2) - ($.uiLoader.height() / 2) }).show() } else { $.uiLoader.appendTo("body").css({ top: ($.browserSize().height / 2) - ($.uiLoader.height() / 2) }).show() } $(".ui_loader_close").click(function (b) { b.stopPropagation(); b.preventDefault(); $.hideLoader() }) }, loaderStatus: function () { return $.uiLoader.is(":hidden") ? 0 : 1 }, hideLoader: function () { $.uiLoader.hide(); $.uiDialog_Mask.hide() }, luiCalendar: function (a) { $.luiCalendar.loaded = 0; var b = null; var c = $("#" + a.id); if (a.onPicked && c.val().length > 0) { a.onPicked(Date.fromString(c.val())) } this.sync = function (e, d) { if ($.luiCalendar.loaded == 0) { $.showLoader(); $.getCss($.getStaticSrcPath($.config.luiCalendarCss)); $.getScript($.getStaticSrcPath($.config.luiCalendarScript), function () { $.hideLoader(); b = c.datepicker(a); b[e](d); $.luiCalendar.loaded = 1 }) } else { if (b == null) { b = c.datepicker(a) } b[e](d) } } } }); $.fn.extend({ uiSpan: function () { var a = $(this); a.unbind("updateState").bind("updateState", function () { $(this).html($("#" + $(this).attr("data-for")).val()) }).trigger("updateState"); return a }, uiCheckbox: function () { var a = $(this); a.unbind("updateState click").bind("updateState", function () { var b = $(this).find("input"); if (b.attr("checked")) { b.parent("label").addClass("ui_checkbox_active") } else { b.parent("label").removeClass("ui_checkbox_active") } }).trigger("updateState").click(function () { var b = $(this); if (b.attr("_hasClicked") == "1") { b.trigger("updateState"); b.attr("_hasClicked", "0") } else { b.attr("_hasClicked", "1") } }); return a }, uiRadio: function () { var a = $(this); a.unbind("updateState click").bind("updateState", function () { $("input[name=" + $(this).children("input").attr("name") + "]").each(function () { var b = $(this); if (b.attr("checked")) { b.parent("label").addClass("ui_radio_active") } else { b.parent("label").removeClass("ui_radio_active") } }) }).trigger("updateState").click(function () { var b = $(this); if (b.attr("_hasClicked") == "1") { b.trigger("updateState"); b.attr("_hasClicked", "0") } else { b.attr("_hasClicked", "1") } }); return a }, uiTabs: function () { var a = $(this); var b = a.find("label"); b.unbind("updateState click").bind("updateState", function () { var c = $(this).find("input"); var d = $("#" + c.attr("data-content-for")); if (c.attr("checked")) { if (!$(this).hasClass("ui_tabs_active")) { $(this).addClass("ui_tabs_active"); $(this).trigger("show") } if (d) { d.show() } } else { if ($(this).hasClass("ui_tabs_active")) { $(this).removeClass("ui_tabs_active"); $(this).trigger("hide") } if (d) { d.hide() } } }).click(function () { var c = $(this); if (c.attr("_hasClicked") == "1") { b.trigger("updateState"); a.trigger("changed"); c.attr("_hasClicked", "0") } else { c.attr("_hasClicked", "1") } }).trigger("updateState"); return a }, uiToolbar: function () { var a = $(this); var b = a.find("label"); b.unbind("updateState click").bind("updateState", function () { var c = $(this).find("input"); var d = $("#" + c.attr("data-content-for")); if (c.attr("checked")) { if (!$(this).hasClass("active")) { $(this).addClass("active"); $(this).trigger("show") } if (d) { d.show() } } else { if ($(this).hasClass("active")) { $(this).removeClass("active"); $(this).trigger("hide") } if (d) { d.hide() } } }).click(function () { var c = $(this); if (c.attr("_hasClicked") == "1") { b.trigger("updateState"); a.trigger("changed"); c.attr("_hasClicked", "0") } else { c.attr("_hasClicked", "1") } }).trigger("updateState"); return a }, uiSelect: function () { var a = $(this); a.each(function () { if ($(this).find("a").length == 0) { $("<a>").appendTo($(this)) } }).find("select").unbind("updateState change touchstart touchend").bind("updateState", function () { $(this).parent().find("a").html($(this).find("option[value='" + $(this).val() + "']").html()) }).bind("change", function () { $(this).trigger("updateState") }).bind("touchstart", function () { $(this).parent().addClass("ui_select_active") }).bind("touchend", function () { $(this).parent().removeClass("ui_select_active") }).trigger("updateState"); return a }, uiAccordion: function () { var a = $(this); var b = a.find(".ui_accordion_header"); b.unbind("updateStateFirst updateState click").bind("updateStateFirst", function () { var c = $(this).children("input.ui_accordion_input"); var e = $(this).next("div.ui_accordion_content"); var d = $(this).children("span.ui_radio"); if (c.attr("checked")) { if (d.length > 0) { d.addClass("ui_radio_active") } if (e) { e.show() } $(this).trigger("show") } else { if (d.length > 0) { d.removeClass("ui_radio_active") } if (e) { e.hide() } $(this).trigger("hide") } }).bind("updateState", function () { var c = $(this).children("input.ui_accordion_input"); var e = $(this).next("div.ui_accordion_content"); var d = $(this).children("span.ui_radio"); if (c.attr("checked")) { if (e && e.css("display") != "block") { e.css("display", "block"); $(this).trigger("show") } if (d.length > 0) { d.addClass("ui_radio_active") } } else { if (e && e.css("display") != "none") { e.css("display", "none"); $(this).trigger("hide") } if (d.length > 0) { d.removeClass("ui_radio_active") } } }).trigger("updateStateFirst").click(function () { var c = $(this); if (c.attr("_hasClicked") == "1") { b.trigger("updateState"); a.trigger("changed"); c.attr("_hasClicked", "0") } else { c.attr("_hasClicked", "1") } }); return a }, uiSideslip: function () { var c = $(this); var b = c.next("div.ui_sidespanel"); var d = $.uiMask.click(function () { e.slipClose() }); var a = $.uiToggle.click(function () { e.slipClose() }); var e = { slipToggle: function (f) { if (c.hasClass("ui_sideslip_left") || c.hasClass("ui_sideslip_right")) { e.slipClose() } else { if (f && f.toLowerCase() == "left") { b.css({ "padding-left": "15%", right: "0" }); c.removeClass("ui_sideslip").addClass("ui_sideslip_left") } else { b.css({ "padding-left": "0", right: "15%" }); c.removeClass("ui_sideslip").addClass("ui_sideslip_right") } $("body").css("background-color", "#3E3B35").bind("touchmove", function (g) { g.preventDefault() }); d.css({ height: $(document).height() }).appendTo(c).show(); c.find("select").css("display", "none"); c.trigger("open"); b.css("visibility", "visible"); a.css("top", $(window).scrollTop() + $.browserSize().height / 2).appendTo(c).show(); if ($.platform.isIOS4) { setTimeout(function () { $.scrollTop() }, 300); b.css("height", $.browserSize().height); a.css("top", $.browserSize().height / 2.1).appendTo(c).show() } } }, slipClose: function () { $("body").css("background-color", "#fff").unbind("touchmove"); c.removeClass("ui_sideslip_left").removeClass("ui_sideslip_right").addClass("ui_sideslip"); d.hide(); a.hide(); c.find("select").css("display", "block"); c.unbind("touchmove").trigger("close"); setTimeout(function () { b.css("visibility", "hidden") }, 300) } }; return e }, uiScroll: function (c, d) { var b = $(this); b.bind("touchmove", function (f) { f.preventDefault() }); var a = new iScroll(b.attr("id"), { onBeforeScrollStart: function (h) { var g = h.target; while (g.nodeType != 1) { g = g.parentNode } var f = g.tagName; if (f != "SELECT" && f != "OPTION" && f != "INPUT" && f != "TEXTAREA" && g.className.indexOf("trigger_default") == -1) { h.preventDefault() } } }); return a }, luiImageGallery: function (b) { var a = $(this); $.getCss($.getStaticSrcPath($.config.luiImggalleryCss)); $.getScript($.getStaticSrcPath($.config.luiImggalleryScript), function () { a.uiImageGallery(b) }) } }); Date.p = Date.prototype; Date.fromString = function (a) { return new Date(Date.parse(a.trim().replace(/\-/g, "/"))) }; Date.p.format = function (b) { b = b || "yyyy-MM-dd"; var c = { "M+": this.getMonth() + 1, "d+": this.getDate(), "h+": this.getHours(), "m+": this.getMinutes(), "s+": this.getSeconds(), "q+": Math.floor((this.getMonth() + 3) / 3), S: this.getMilliseconds() }; if (/(y+)/.test(b)) { b = b.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length)) } for (var a in c) { if (new RegExp("(" + a + ")").test(b)) { b = b.replace(RegExp.$1, RegExp.$1.length == 1 ? c[a] : ("00" + c[a]).substr(("" + c[a]).length)) } } return b }; Date.p.isLeapYear = function () { return (0 == this.getYear() % 4 && ((this.getYear() % 100 != 0) || (this.getYear() % 400 == 0))) }; Date.p.daysInMonth = function () { switch (this.getMonth()) { default: return 0; case 0: case 2: case 4: case 6: case 7: case 9: case 11: return 31; case 3: case 5: case 8: case 10: return 30; case 1: return this.isLeapYear() ? 29 : 28 } }; Date.p.firstDay = function () { return new Date(this.getFullYear(), this.getMonth(), 1).getDay() }; Date.p.addDays = function (a) { return new Date(this.getTime() + 86400000 * a) }; Date.p.trim = function () { return new Date(this.getFullYear(), this.getMonth(), this.getDate()) }; Date.p.copy = function () { return new Date(this.getTime()) }; Date.p.getWeek = function () { return $.weekText[this.getDay()] };