<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8" />
<meta name="keywords" content="关键词1,关键词2,关键词3" />
<meta name="description" content="对网站的描述" />
<meta name="format-detection" content="telephone=no">
<!--自动将网页中的电话号码显示为拨号的超链接-->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
<!--width宽度height高度，initial-scale初始的缩放比例，minimum-scale允许缩放到的最小比例，maximum-scale允许缩放到的最大比例，user-scalable是否可以手动缩放-->
<meta name="apple-mobile-web-app-capable" content="yes">
<!--IOS设备-->
<meta name="apple-touch-fullscreen" content="yes">
<!--IOS设备-->
<meta http-equiv="Access-Control-Allow-Origin" content="*">
<title>订餐支付</title>
<link type="text/css" rel="stylesheet" href="../css/booklist/iconfont-base64.css"/>
<link type="text/css" rel="stylesheet" href="../css/booklist/sale-date.css"/>
<link type="text/css" rel="stylesheet" href="../css/booklist/Restaurant.css"/>
<link type="text/css" rel="stylesheet" href="../css/newpay.css">
<!--<link type="text/css" rel="stylesheet" href="../css/booklist/public.css">-->
<link type="text/css" rel="stylesheet" href="../css/booklist/mobileSelect.css">
<link type="text/css" rel="stylesheet" href="../css/booklist/fontSize.css"/>
<!-- <link type="text/css" rel="stylesheet" href="../css/booklist/number-bar.css"> -->
<script type="text/javascript" src="../Scripts/jquery-1.8.0.min.js"></script>
<!-- <script type="text/javascript" src="../css/booklist/number-bar.js"></script> -->
<script type="text/javascript" src="../Scripts/mobileSelect.js"></script>
<script type="text/javascript" src="../Scripts/fontSize.js"></script>
</head>
<body>
	<section class="yu-arr yu-bgw yu-bmar10">
		<a class="yu-grid yu-alignc yu-pad20" href="编辑信息.html">
			<p class="gps-ico"></p>
			<div>
				<p class="yu-black yu-bmar5 yu-f36r">
					<span>李清秋</span>
					<span>135787454</span>
				</p>
				<p class="yu-grey yu-font12">
					<span>广州桃花江豪生酒店</span>
					<span>201A房</span>
				</p>
			</div>
		</a>
		<div class="colorBorder"></div>
	</section>
	<section class="yu-bgw yu-bmar10">
		<div class="yu-h50 yu-lrpad10 yu-grey yu-line50 yu-bor bbor yu-grid yu-f30r">
			<p class="yu-rmar10">广州桃花江豪生酒店</p>
			<a class="yu-grid yu-blue2 yu-alignc" href="tel:12345678910">
					<!--<p class="tel-ico"></p>-->
					<p class="iconfont icon-lianxidianhua yu-blue yu-f30r"></p>
					<p>12345678910</p>
			</a>
		</div>
		<div class="yu-pad20 yu-bglgrey yu-bor bbor">
			<ul>
				<li class="yu-grid yu-alignc yu-bmar10">
					<div class="yu-overflow">
						<div class="yu-grid yu-alignc">
							<p>干炒牛河</p>
							<div class="la-lv type0"></div>
						</div>
					</div>
					<p class="yu-grey yu-rmar20">X2</p>
					<p>￥31</p>
				</li>
				<li class="yu-grid yu-alignc yu-bmar10">
					<div class="yu-overflow">
						<div class="yu-grid yu-alignc">
							<p>干炒牛河</p>
							<div class="la-lv type1"></div>
						</div>
					</div>
					<p class="yu-grey yu-rmar20">X2</p>
					<p>￥31</p>
				</li>
				<li class="yu-grid yu-alignc yu-bmar10">
					<div class="yu-overflow">
						<div class="yu-grid yu-alignc">
							<p>干炒牛河</p>
							<div class="la-lv type2"></div>
						</div>
					</div>
					<p class="yu-grey yu-rmar20">X2</p>
					<p>￥31</p>
				</li>
				<li class="yu-grid yu-alignc yu-bmar10">
					<div class="yu-overflow">
						<div class="yu-grid yu-alignc">
							<p>干炒牛河</p>
							<div class="la-lv type3"></div>
						</div>
					</div>
					<p class="yu-grey yu-rmar20">X2</p>
					<p>￥31</p>
				</li>
			</ul>
		</div>
		<div class="yu-bor bbor yu-arr yu-h60 yu-grid yu-lrpad10 yu-alignc usehb">
				<p class="yu-black yu-rmar20">红包</p>
				<div class="yu-overflow">
					<p class="yu-orange yu-font16">￥5</p>
					<p class="yu-grey yu-font12">已从订单金额中扣减</p>
				</div>
		</div>
		<div class="yu-bor bbor yu-h60 yu-grid yu-lrpad10 yu-alignc">
				<p class="yu-black yu-rmar20">订单</p>
				<div class="yu-overflow">
					<p class="yu-orange yu-font16">￥168</p>
					<p class="yu-grey yu-font12">已优惠5元，可获<span class="yu-blue">168</span>积分</p>
				</div>
		</div>
	</section>
	
	<section class="yu-bgw yu-bmar10">
		<div class="yu-bor bbor  yu-h60 yu-grid yu-lrpad10 yu-alignc usernum">
			<p class="yu-black yu-overflow">用餐人数</p>
			<!--<p class="yu-grey yu-font12 yu-rpad20">便于商家带够餐具</p>-->
			<div class="ar yu-grid">
				<p class="reduce ico"></p>
				<p class="food-num"></p>
				<p class="add ico"></p>
			</div>
		</div>
		<div class="yu-bor bbor  yu-h60 yu-grid yu-lrpad10 yu-alignc ">
			<p class="yu-black yu-overflow">取餐方式</p>
			<div>
				<div class="get-food-type">送餐到桌</div>
			</div>
		</div>
		<div class="yu-bor bbor  yu-h60 yu-grid yu-lrpad10 yu-alignc ">
			<p class="yu-black">选择桌台</p>
			<div class="yu-overflow"><input class="yu-input2 yu-lpad40r" id="select-desk" placeholder="请选择桌台或输入餐台号" type="text"></div>
			<div class="select-desk  yu-arr" id="trigger2"></div>
		</div>
		<div>
			<a href="订单备注.html" class="yu-bor bbor yu-arr yu-h60 yu-grid yu-lrpad10 yu-alignc">
				<p class="yu-black yu-overflow">订单备注</p>
				<p class="yu-grey yu-font12 yu-rpad20">口味、偏好等</p>
			</a>
			
		</div>
	</section>
	<!--<section class="number-bar">
      <div class="scrn">
        <p class="sjh">人数</p>
        <p class="scrn-txt"></p>
      </div>
      <div class="num-key">
       
      <div class="num-key-row">
          <p data="1" class="num-k">1</p>
          <p data="2" class="num-k">2</p>
          <p data="3" class="num-k">3</p>
        </div>        
      <div class="num-key-row">
          <p data="4" class="num-k">4</p>
          <p data="5" class="num-k">5</p>
          <p data="6" class="num-k">6</p>
        </div> 
      <div class="num-key-row">
          <p data="7" class="num-k">7</p>
          <p data="8" class="num-k">8</p>
          <p data="9" class="num-k">9</p>
        </div>
 <div class="num-key-row">
          <p class="submit">确认</p>
          <p data="0" class="num-k">0</p>
          <p class="del"><span></span></p>
        </div>                           
      </div>
      <div class="slide-bar"></div>
    </section>-->
    <!--红包-->
    <section class="mask hb-mask">
    <div class="mask-inner">
            <div class="row yu-line60 yu-h60 yu-font20 yu-grid yu-bmar10">
                        <p class="yu-grey yu-w70 cancel">取消</p>
                        <p class="yu-overflow">选择红包</p>
                        <p class="yu-blue yu-w70 yhq-over">完成</p>
                     </div>   

            <div class="yhq-box select-box">
              <div class="row">
                <div class="hongbao type1 yu-grid">
                    <div class="yu-overflow yu-textl">
                      <p class="yu-bmar10"><i class="yu-font14">￥</i><i class="yu-font30">10</i></p>
                      <p class="yu-font14">订房红包</p>
                      <p class="yu-font14">有效期2017.01.01-2017.01.15</p>
                    </div>
                    <p class="hongbao-state"><span class="type1">未选用</span><span class="type2">已选用</span></p>
                </div>
              </div>

              <div class="row">
                <div class="hongbao type1 yu-grid">
                    <div class="yu-overflow yu-textl">
                      <p class="yu-bmar10"><i class="yu-font14">￥</i><i class="yu-font30">10</i></p>
                      <p class="yu-font14">订房红包</p>
                      <p class="yu-font14">有效期2017.01.01-2017.01.15</p>
                    </div>
                    <p class="hongbao-state"><span class="type1">未选用</span><span class="type2">已选用</span></p>
                </div>
              </div>                
           
            <div class="row">
                <div class="hongbao type1 yu-grid">
                    <div class="yu-overflow yu-textl">
                      <p class="yu-bmar10"><i class="yu-font14">￥</i><i class="yu-font30">10</i></p>
                      <p class="yu-font14">订房红包</p>
                      <p class="yu-font14">有效期2017.01.01-2017.01.15</p>
                    </div>
                    <p class="hongbao-state"><span class="type1">未选用</span><span class="type2">已选用</span></p>
                </div>
              </div>              

 <div class="row">
                <div class="hongbao type1 yu-grid">
                    <div class="yu-overflow yu-textl">
                      <p class="yu-bmar10"><i class="yu-font14">￥</i><i class="yu-font30">10</i></p>
                      <p class="yu-font14">订房红包</p>
                      <p class="yu-font14">有效期2017.01.01-2017.01.15</p>
                    </div>
                    <p class="hongbao-state"><span class="type1">未选用</span><span class="type2">已选用</span></p>
                </div>
              </div>                     


            </div>          
         </div>
         </section>
    <!--end-->
    <!--选择台号-->
    <!--<section class="mask" style="display: block;">
    	
    </section>-->
    <!--end-->
	<footer class="yu-grid fix-bottom yu-bor tbor yu-lpad10 touch_action">
		<div class="yu-overflow">
			<p class="yu-orange">在线支付￥168</p>
			<p class="yu-grey yu-font12">为您优惠5元</p>
		</div>
	<div class="yu-btn">去支付</div>
	
</footer>
<script>
	$(function(){
	//mask操作
	$(".mask").on("click",function(){
		$(this).fadeOut();
	})
	$(".mask-inner").on("click",function(e){
		e.stopPropagation();
	})
	var lasttime,
              yhqNum,
              tsyqTxt;
          $(".select-box .row").on("click",function(){
            $(this).addClass("cur").siblings(".row").removeClass("cur");
            if($(this).parent(".select-box").hasClass("time-box")){//最晚时间
                lasttime=$(this).children("p").eq(1).text();
                $(".lasttimeselect").text(lasttime);   
                 $(this).parents(".mask").fadeOut();                
            }else if($(this).parent(".select-box").hasClass("yhq-box")){//优惠券
                $(this).find(".txt").removeClass("yu-orange");
                $(this).siblings().find(".txt").addClass("yu-orange");
                yhqNum=$(this).index()+1;
                return yhqNum;
            }else if($(this).parent(".select-box").hasClass("tsyq-box")){//特殊要求      
               tsyqTxt=$(this).children("p").eq(1).text();
               return tsyqTxt;
            }
          })
	//红包
	$(".usehb").click(function(){
		$(".hb-mask").fadeIn();
	})
	$(".cancel").click(function(){
            $(".mask").fadeOut();
          })
    $(".yhq-over").click(function(){
            $(".mask").fadeOut();
//          $(".yhq-type").text("￥"+yhqNum+"0");
          })
	//数字输入
	// $(".usernum").click(function(){
 //        $(".number-bar").show();
 //        $(".numberb-mask").fadeIn();
 //     })
	// $(".numberb-mask,.number-bar .slide-bar").click(function(){
	// 	$(".number-bar").fadeOut();
 //        $(".numberb-mask").fadeOut();
	// })
	//加减餐
	var foodNum=0;
	var totalNum=0;
	$(".add").on("click",function(){
	// $(".food-list,.food-details").find("dd").on("click",".add",function(){
		totalNum++;
		$(".yu-btn").text("选好了");
		if($(this).siblings(".food-num").text()==""){
			foodNum=1;
			$(this).siblings(".food-num").text(foodNum);
		}else{
			foodNum=parseInt($(this).siblings(".food-num").text());
			foodNum++;
			$(this).siblings(".food-num").text(foodNum);
	};
		$(this).siblings().fadeIn();
		$(".gwc-ico .num").text(totalNum);
		$(".gwc-ico .num").fadeIn();
	});
	
	$(".reduce").on("click",function(){
		// $(".food-list,.food-details").find("dd").on("click",".reduce",function(){
		foodNum=parseInt($(this).siblings(".food-num").text());
		if(foodNum>0){
			totalNum--;
			foodNum--;
			$(this).siblings(".food-num").text(foodNum);
			$(".gwc-ico .num").text(totalNum);
			totalNum==0?$(".yu-btn").text("请选择"):$(".yu-btn").text("选好了");
			if(totalNum==0){
				$(".yu-btn").text("请选择");
				$(".gwc-ico .num").fadeOut();
			}
			if(foodNum==0&&$(this).parents("dl").hasClass("food-list")){
				 $(this).fadeOut().siblings(".food-num").fadeOut();	
			}
		};
	});
//选择桌台
//	var weekdayArr=['大厅区','包厢区','大厅区1','包厢区2'];
//	var timeArr = ['桌台001','桌台002','桌台003','桌台004'];
	
	var UplinkData =
   [ {
        id:'1',
        value:'大厅区',
        childs:[
            {
                id:'1',
                value:'桌台001'
            },
            {
                id:'2',
                value:'桌台002'
            },
            {
                id:'3',
                value:'桌台003',
            },
            {
                id:'4',
                value:'桌台004'
            }
        ]
    },
    {
        id:'2',
        value:'包厢区',
        childs:[
            {
                id:'1',
                value:'桌台444'
            },
            {
                id:'2',
                value:'桌台555'
            },
            {
                id:'3',
                value:'桌台666',
            },
            {
                id:'4',
                value:'桌台777'
            }
        ]
    },
    {
        id:'3',
        value:'豪华包厢',
        childs:[
            {
                id:'1',
                value:'桌台811'
            },
            {
                id:'2',
                value:'桌台911'
            },
            {
                id:'3',
                value:'桌台211',
            },
            {
                id:'4',
                value:'桌台311'
            }
        ]
    }
];
	
	
	//只有trigger 和 wheels 是必要参数  其他都是选填参数
	var mobileSelect2 = new MobileSelect({
	    trigger: '#trigger2',
	    title: '选择桌台',
	    wheels: [
	                {data : UplinkData}
	            ],
	    transitionEnd:function(indexArr, data){
	        console.log(data);
	    },
	    callback:function(indexArr, data){
	        console.log(data);
	    } 
	});
	
	})
</script>
</body>
</html>